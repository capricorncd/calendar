/*!
 * zx-calendar version 0.7.2
 * Author: Xing Zhong <capricorncd@qq.com, zx198401@gmail.com>
 * Repository: https://github.com/capricorncd/calendar#readme
 * Released on: 2023-01-15 21:35:15 (GMT+0900)
 */
(function(u,y){typeof exports=="object"&&typeof module<"u"?y(exports,require("solid-js")):typeof define=="function"&&define.amd?define(["exports","solid-js"],y):(u=typeof globalThis<"u"?globalThis:u||self,y(u.ZxSolidCalendar={},u.solidJs))})(this,function(u,y){"use strict";function ge(s,t,e){let i=e.length,n=t.length,a=i,o=0,l=0,r=t[n-1].nextSibling,d=null;for(;o<n||l<a;){if(t[o]===e[l]){o++,l++;continue}for(;t[n-1]===e[a-1];)n--,a--;if(n===o){const c=a<i?l?e[l-1].nextSibling:e[a-l]:r;for(;l<a;)s.insertBefore(e[l++],c)}else if(a===l)for(;o<n;)(!d||!d.has(t[o]))&&t[o].remove(),o++;else if(t[o]===e[a-1]&&e[l]===t[n-1]){const c=t[--n].nextSibling;s.insertBefore(e[l++],t[o++].nextSibling),s.insertBefore(e[--a],c),t[n]=e[a]}else{if(!d){d=new Map;let h=l;for(;h<a;)d.set(e[h],h++)}const c=d.get(t[o]);if(c!=null)if(l<c&&c<a){let h=o,_=1,E;for(;++h<n&&h<a&&!((E=d.get(t[h]))==null||E!==c+_);)_++;if(_>c-l){const f=t[o];for(;l<c;)s.insertBefore(e[l++],f)}else s.replaceChild(e[l++],t[o++])}else o++;else t[o++].remove()}}}function _e(s,t,e){const i=document.createElement("template");i.innerHTML=s;let n=i.content.firstChild;return e&&(n=n.firstChild),n}function Ee(s,t,e){return y.untrack(()=>s(t,e))}function q(s,t,e,i){if(e!==void 0&&!i&&(i=[]),typeof t!="function")return b(s,t,i,e);y.createRenderEffect(n=>b(s,t(),n,e),i)}function b(s,t,e,i,n){for(y.sharedConfig.context&&!e&&(e=[...s.childNodes]);typeof e=="function";)e=e();if(t===e)return e;const a=typeof t,o=i!==void 0;if(s=o&&e[0]&&e[0].parentNode||s,a==="string"||a==="number"){if(y.sharedConfig.context)return e;if(a==="number"&&(t=t.toString()),o){let l=e[0];l&&l.nodeType===3?l.data=t:l=document.createTextNode(t),e=M(s,e,i,l)}else e!==""&&typeof e=="string"?e=s.firstChild.data=t:e=s.textContent=t}else if(t==null||a==="boolean"){if(y.sharedConfig.context)return e;e=M(s,e,i)}else{if(a==="function")return y.createRenderEffect(()=>{let l=t();for(;typeof l=="function";)l=l();e=b(s,l,e,i)}),()=>e;if(Array.isArray(t)){const l=[],r=e&&Array.isArray(e);if(k(l,t,e,n))return y.createRenderEffect(()=>e=b(s,l,e,i,!0)),()=>e;if(y.sharedConfig.context){if(!l.length)return e;for(let d=0;d<l.length;d++)if(l[d].parentNode)return e=l}if(l.length===0){if(e=M(s,e,i),o)return e}else r?e.length===0?K(s,l,i):ge(s,e,l):(e&&M(s),K(s,l));e=l}else if(t instanceof Node){if(y.sharedConfig.context&&t.parentNode)return e=o?[t]:t;if(Array.isArray(e)){if(o)return e=M(s,e,i,t);M(s,e,null,t)}else e==null||e===""||!s.firstChild?s.appendChild(t):s.replaceChild(t,s.firstChild);e=t}}return e}function k(s,t,e,i){let n=!1;for(let a=0,o=t.length;a<o;a++){let l=t[a],r=e&&e[a];if(l instanceof Node)s.push(l);else if(!(l==null||l===!0||l===!1))if(Array.isArray(l))n=k(s,l,r)||n;else if(typeof l=="function")if(i){for(;typeof l=="function";)l=l();n=k(s,Array.isArray(l)?l:[l],Array.isArray(r)?r:[r])||n}else s.push(l),n=!0;else{const d=String(l);r&&r.nodeType===3&&r.data===d?s.push(r):s.push(document.createTextNode(d))}}return n}function K(s,t,e=null){for(let i=0,n=t.length;i<n;i++)s.insertBefore(t[i],e)}function M(s,t,e,i){if(e===void 0)return s.textContent="";const n=i||document.createTextNode("");if(t.length){let a=!1;for(let o=t.length-1;o>=0;o--){const l=t[o];if(n!==l){const r=l.parentNode===s;!a&&!o?r?s.replaceChild(n,l):s.insertBefore(n,e):r&&l.remove()}else a=!0}}else s.insertBefore(n,e);return[n]}const me="yyyy/MM",Se="yyyy-yyyy",Te="yyyy",m="is-selected",X="is-disabled",Ae="is-holiday",Me="is-current",Q="is-range-first",J="is-range-last",ee="is-range-first-last",te="is-range-temp",se="is-first-page",ne="is-last-page",De="is-weekend",L="date-only",F="__prev-button",v="__next-button",Y="__title-wrapper",ie="__item-week",ae="__confirm-button",oe="__clear-button",le="__cancel-button",re="multiple",A="range",Ce="single",j="date",P="month",w="year",ce={en:{full:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},jp:{full:["\u65E5\u66DC\u65E5","\u6708\u66DC\u65E5","\u706B\u66DC\u65E5","\u6C34\u66DC\u65E5","\u6728\u66DC\u65E5","\u91D1\u66DC\u65E5","\u571F\u66DC\u65E5"],abbr:["\u65E5","\u6708","\u706B","\u6C34","\u6728","\u91D1","\u571F"]},zh:{full:["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"],abbr:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"]}},Re=["confirmButton","cancelButton","clearButton"],de={en:["ok","cancel","clear"],jp:["\u9078\u629E","\u30AD\u30E3\u30F3\u30BB\u30EB","\u30AF\u30EA\u30A2\u30FC"],zh:["\u786E\u5B9A","\u53D6\u6D88","\u6E05\u9664"]};function xe(s="en",t){const e=de[s]||de.en,i=Re.reduce((a,o,l)=>(a[o]=e[l],a),{}),n=ce[s]||ce.en;return i.weeks=t?n.full:n.abbr,i}function Ne({lang:s,isFullWeek:t,langPackage:e}){return{langPackage:{...xe(s,t),...e}}}/*!
 * date-utils-2020 v1.1.0
 * Author: Capricorncd
 * Repository: https://github.com/capricorncd/date-utils-2020#readme
 * Released on: 2023/01/14 14:10:19 GMT+0900
 */function I(s){return String(s).padStart(2,"0")}const be={weeks:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]};function g(s,t,e){const i=C(s);if(!i||!t)return String(s);if(t==="timestamp")return i.getTime().toString();if(/(y+)/i.test(t)){const o=RegExp.$1;t=t.replace(o,(i.getFullYear()+"").substring(4-o.length))}(!e||!Array.isArray(e.weeks))&&(e=be);const n={"M+":i.getMonth()+1,"d+":i.getDate(),"h+":i.getHours(),"m+":i.getMinutes(),"s+":i.getSeconds(),"a+":i.getHours()<12?"am":"pm","A+":i.getHours()<12?"AM":"PM"};let a;for(const o in n)if(new RegExp("("+o+")").test(t)){a=RegExp.$1;const l=n[o]+"";t=t.replace(a,a.length===1?l:I(l))}if(/w+/i.test(t)){const o=i.getDay();t=t.replace(/w+/i,/W+/.test(t)?e.weeks[o]:String(o))}if(/g/i.test(t)){const o=i.toString().split(/\s+/).slice(5),l=t.includes("g");t=t.replace(/g/i,l?o[0]:o.join(" "))}return t}function C(s){let t=null;if(s instanceof Date)t=s;else if(typeof s=="number")t=new Date(s);else if(typeof s=="string"){let e=s.trim();if(/^\d+$/.test(e)){const i=e.length;i===8?t=new Date([e.substring(0,4),e.substring(4,6),e.substring(6,8)].join("/")):i===6?t=new Date([e.substring(0,4),e.substring(4,6),"01"].join("/")):i===4?t=new Date(e+"/01/01"):t=new Date(parseInt(s))}else e=e.replace(/[年月日]/g,i=>i==="\u65E5"?"":"/").replace(/[(（（].*?[)））]/g," ").replace(/\bam|pm\b/ig," ").replace(/\s+/g," "),/^(\d{4})[-/](\d{1,2})[-/](\d{1,2})$/.test(e)?t=new Date([RegExp.$1,RegExp.$2,RegExp.$3].join("/")):/^(\d{4})[-/](\d{1,2})$/.test(e)?t=new Date([RegExp.$1,RegExp.$2,"01"].join("/")):t=new Date(e)}return t&&!isNaN(t.getFullYear())?t:null}const Le={date:"yyyyMMdd",month:"yyyyMM",year:"yyyy"};function p(s){return s>>0}function R(s){return typeof s=="string"}function fe(s){return typeof s=="function"}function we({current:s,currentDate:t}){const e=s.slice(0,2);e.push("01");const i=new Date(e.join("/")).getDay();let n=t.getFullYear(),a=t.getMonth()+1;a===12?(n+=1,a=1):a+=1;const o=new Date(`${n}/${I(a)}/01`).getTime(),l=new Date(o-1);return{firstDayOfWeek:i,lastDayOfMonth:l.getDate()}}function Ie(s){const t=p(s.substr(2)),e=t%20===0,i=Math.floor(t/20);let n=(e?i-1:i)*20+1,a=p(s.substr(0,2));i===0&&t===0&&(a-=1,n=81);const o=a*100+n,l=o+19;return{startFullYear:o,endFullYear:l}}function S(s,t){const e=[];if(Array.isArray(s)){const[i,n]=s;let a=C(i),o=C(n);R(t)&&(a=a?+g(a,t):null,o=o?+g(o,t):null),e.push(a),e.push(o)}return e}function B({data:s,options:t}){const e=[];return t.mode===A&&s.selected.forEach(i=>{e.push(i?i.value:null)}),e}function H(s,t,e){return!!t&&s<t||!!e&&s>e}function he(s,{type:t,mode:e}){const i=[];if(s){Array.isArray(s)||(s=[s]),e===Ce&&s.length>1&&(s=s.slice(0,1)),e===A&&s.length>2&&(s=s.slice(0,2));const n=Le[t];let a;s.forEach(o=>{a=C(o),a&&i.push({value:p(g(a,n)),date:a,fullText:g(a,"yyyy/MM/dd")})}),i.sort((o,l)=>o.value-l.value)}return i}function W(s,t,e){return t&&t>s||e&&e<s}function Oe(s,t,e,i){const n=[];switch(i){case A:{const[a,o]=s;a&&W(+a.date,t,e)&&n.push(a),o&&W(+o.date,t,e)&&n.push(o);break}default:s.forEach(a=>{W(+a.date,t,e)&&n.push(a)})}return n.length>0}function $e(s){const{options:t}=this;let e=null;const[i,n]=S(t.dateRange);if(i&&+i>+e&&(e=i),n&&+n<+e&&(e=n),s.length)if(Oe(s,i,n,t.type)){let a=setTimeout(()=>{this.emit("error",new Error(`The default date[${t.defaultDate}] is not within the range[${t.dateRange}].`)),clearTimeout(a),a=null},0)}else e=s[0].date;return e}function V(s,{data:t,options:e}){return e.mode===A&&t.selected.length===1?s===t.selected[0].value:!1}function D(s){if(typeof s>"u"&&(s="undefined"),s===null&&(s="null"),R(s))return document.createTextNode(s);const t=document.createElement(s.t||"div"),e=s.a;e&&typeof e=="object"&&Object.keys(e).forEach(n=>{t.setAttribute(n,e[n])});const i=s.c;return Array.isArray(i)&&i.length>0&&i.forEach(n=>{t.appendChild(D(n))}),t}function G(s,t=document){if(!s)return null;let e=null;return R(s)?e=t.querySelector(s):typeof s=="object"&&s.nodeType===1&&(e=s),e}function ke(s,t,e){const i="__item",n={};if(t.includes(i))n.el=s,n.className=t;else if(s!==e){let a=s.parentElement;for(;a&&a!==e;){if(a.className.split(" ").includes(i)){n.el=a,n.className=a.className.split(" ");break}a=a.parentElement}}return n.el&&(n.index=p(n.el.getAttribute("data-index"))),n}function x(...s){const t=s[0],e=s.slice(1),i=[];t.className.split(" ").forEach(n=>{e.includes(n)||i.push(n)}),t.className=i.join(" ")}function O(...s){const t=s[0],e=t.className.split(" ");s.slice(1).forEach(i=>{e.includes(i)||e.push(i)}),t.className=e.join(" ")}const Fe={a:{class:"zx-calendar"}},ve={a:{class:"zx-calendar-header-wrapper"},c:[{a:{class:"__l"},c:[{t:"button",a:{type:"button",class:F}},{t:"button",a:{type:"button",class:[F,L].join(" ")}}]},{a:{class:Y}},{a:{class:"__r"},c:[{t:"button",a:{type:"button",class:[v,L].join(" ")}},{t:"button",a:{type:"button",class:v}}]}]},Ye={a:{class:"zx-calendar-week-wrapper"},c:[]},je={a:{class:"zx-calendar-body-wrapper"}},Pe={a:{class:"zx-calender-footer-wrapper"},c:[]},Be={confirm:{t:"button",a:{class:ae}},clear:{t:"button",a:{class:oe}},cancel:{t:"button",a:{class:le}}};function He(s,t){if(t.type!==j)return null;const e=JSON.parse(JSON.stringify(Ye));return s.forEach((i,n)=>{const a=n===0||n===6;e.c.push({a:{class:ie+(a?" "+De:"")},c:[i]})}),D(e)}function U(s,t,e,i){const n=s.some(o=>t&&o.value&&o.value<t),a=s.some(o=>e&&o.value&&o.value>e);n?O(i,se):x(i,se),a?O(i,ne):x(i,ne)}function z(s,t,{titleFormatter:e,type:i,itemSuffix:n,showHoliday:a},{header:o,body:l}){const r=t[s]||[];let d=null;if(i===w){const E=r[0],f=r[r.length-1];let T=0;d=e.replace(/(y+)/g,()=>T++===0?E.text:f.text)}else d=g(t.currentDate,e);G("."+Y,o).innerText=d;let c,h,_;l.innerHTML=r.reduce((E,f,T)=>(c=["__item"],f.disabled&&c.push(X),f.value>0?(_="",f.holiday&&(c.push(Ae),_=` title="${f.holiday}"`),f.selected&&c.push(m),f.current&&c.push(Me),f.isRangeFirst&&f.isRangeLast?c.push(ee):(f.isRangeFirst&&c.push(Q),f.isRangeLast&&c.push(J)),f.isRangeTemp&&c.push(te),h=[`<div class="${c.join(" ")}" data-index="${T}"${_}>`],h.push('<div class="__inner">'),h.push(`<p class="__text">${f.text}`),n&&h.push(`<span class="__suffix">${n}</span>`),a&&f.holiday&&h.push(`<span class="__holiday">${f.holiday}</span>`),h.push("</p></div></div>")):h=[`<div class="${c.join(" ")}"><div class="__inner"></div></div>`],E.push(h.join("")),E),[]).join("")}function ue(s,{body:t},e){const[...i]=t.querySelectorAll("."+m);i.forEach(n=>{x(n,m),e&&x(n,Q,J,ee)}),O(s,e?te:m)}const Z="single",We="multiple",Ve="range",ye="date",Ge="month",Ue="year",ze={date:"yyyy/MM/dd",month:"yyyy/MM",year:"yyyy"},pe={primary:"#f30",arrow:"#999",holidayDot:"rgba(0, 0, 0, 0.2)",currentItemBg:"#eee",white:"#fff",rangeBg:"#eee"},N={el:null,dateRange:[],lang:"zh",showHoliday:!1,type:ye,isFullWeek:!1,titleFormatter:me,itemSuffix:null,defaultDate:[],itemFormatter:null,mode:Z,langPackage:null,footerButtons:["clear","cancel","confirm"],footerButtonAlign:"flex-end",hideFooter:!1,colors:{}},Qe="";function $(s={}){const t={...N,...s,colors:{...pe,...s.colors}};if(s.titleFormatter||(t.type===w?t.titleFormatter=Se:t.type===P&&(t.titleFormatter=Te)),!t.el||!G(t.el))throw new Error(`Initial parameter el[${t.el}] is invalid.`);this.options=t,this._eventList={};const{langPackage:e}=Ne(t);this.langPackage=e,this.$els={};const i=new Date,n=g(i,"yyyy/MM/dd",e);let a=[];try{a=he(t.defaultDate,t)}catch(r){setTimeout(()=>{this.emit("error",r)},0)}const o=$e.call(this,a)||i,l=g(o,"yyyy/MM/dd");this.data={today:n,currentDate:o,currentDay:l,current:l.split("/"),selected:a,dates:[],months:[],years:[]},this._initDom()}$.prototype={constructor:$,formatDate(s,t,e){return e||(e=this.langPackage),g(s,t,e)},toDate(s){const t=C(s);return t||this.emit("error",new Error(`"${s}" is an invalid Date!`)),t},emit(...s){const t=s[0];this._eventList[t]&&this._eventList[t].forEach(e=>{e.apply(this,s.slice(1))})},on(s,t){!R(s)||!fe(t)||(this._eventList[s]||(this._eventList[s]=[]),this._eventList[s].push(t))},off(s){!R(s)||!this._eventList[s]||(this._eventList[s].length=0)},_initDom(){const s=this.options,t=G(s.el),e=JSON.parse(JSON.stringify(Fe)),i=[e.a.class,"type-is-"+s.type,"mode-is-"+s.mode];e.a.class=i.join(" "),e.a.style=Object.keys(s.colors).map(r=>`--zx-calendar-color-${r}: ${s.colors[r]}`).join(";");const n=D(e),a=D(ve);n.appendChild(a);const o=He(this.langPackage.weeks,s);o&&n.appendChild(o);const l=D(je);if(n.appendChild(l),!s.hideFooter&&(s.mode===re||s.mode===A)){const r=JSON.parse(JSON.stringify(Pe));s.footerButtons.forEach(c=>{r.c.push({...Be[c],c:[this.langPackage[c+"Button"]]})});const d=D(r);s.footerButtonAlign&&(d.style.justifyContent=s.footerButtonAlign),n.appendChild(d)}t.appendChild(n),this.$els={calendar:n,header:a,week:o,body:l,parent:t},this._updateDom(),this.eventsHandler=this._eventsHandler.bind(this),this.$els.calendar.addEventListener("click",this.eventsHandler)},_eventsHandler(s){s.stopPropagation();const t=s.target,e=t.className.split(" "),i=t.innerText;if(e.includes(F))this.prev(!e.includes(L));else if(e.includes(v))this.next(!e.includes(L));else if(e.includes(ae))this.emit("change",[...this.data.selected]);else if(e.includes(le))this.emit("cancel");else if(e.includes(oe))this.setDate();else if(e.includes(Y))this._onTitleClick({innerText:i,el:t,className:e});else if(e.includes(ie))this._onWeekClick({innerText:i,el:t,className:e});else{const n=ke(t,e,this.$els.calendar);n.el&&this._onItemClick(n)}},_onTitleClick(s){this.emit("onTitleClick",s)},prev(s){let[t,e]=this.data.current;switch(this.options.type){case j:if(s){t=p(t)-1;const[i]=S(this.options.dateRange,"yyyy");if(i&&t<=i){t=i;const[n]=S(this.options.dateRange,"MM");n&&(e=n)}}else e=p(e)-1,e===0&&(t=p(t)-1,e=12);this.setCurrentDate([t,e,"01"].join("/"));break;case P:this.setCurrentDate(t-1);break;case w:{const i=this.data.years[0]||{};this.setCurrentDate(i.value-1);break}}},next(s){let[t,e]=this.data.current;switch(this.options.type){case j:if(s){t=p(t)+1;const[,i]=S(this.options.dateRange,"yyyy");if(i&&t>=i){t=i;const[,n]=S(this.options.dateRange,"MM");n&&(e=n)}}else e=p(e)+1,e===13&&(t=p(t)+1,e=1);this.setCurrentDate([t,e,"01"].join("/"));break;case P:this.setCurrentDate(p(t)+1);break;case w:{const i=this.data.years,n=i[i.length-1]||{};this.setCurrentDate(n.value+1);break}}},_onWeekClick(s){this.emit("onWeekClick",s)},_onItemClick({el:s,className:t,index:e}){if(t.includes(X))return;const n=(this.data[this.options.type+"s"]||[])[e]||{};if(this.options.mode===A){const a=[...this.data.selected],o=a.length;o===0||o>=2&&a.every(l=>!!l)?(this.data.selected=[n],ue(s,this.$els,!0)):o===1&&(a[0].value<n.value?this.data.selected.push(n):this.data.selected.unshift(n),this._updateDom())}else if(this.options.mode===re)if(t.includes(m)){x(s,m);const a=this.data.selected.findIndex(o=>o.value===n.value);this.data.selected.splice(a,1)}else O(s,m),n.selected=!0,this.data.selected.push(n);else t.includes(m)||(ue(s,this.$els),n.selected=!0,this.data.selected=[{...n}],this.emit("change",[...this.data.selected]))},setDateRange(s,t){this.options.dateRange=[s,t],this._updateDom()},setDate(s){try{if(this.data.selected=he(s,this.options),this.data.selected.length===0){this._updateDom();return}const t=this.data.selected[0];this.setCurrentDate(t.fullText)}catch(t){this.emit("error",t)}},getDate(){return this.data.selected.slice(0)},setCurrentDate(s){const t=this.toDate(String(s));if(!t)return;const e=g(t,"yyyy/MM/dd");this.data.currentDate=t,this.data.currentDay=e,this.data.current=e.split("/"),this._updateDom()},_updateDom(){switch(this.options.type){case"date":this.createDays(),z("dates",this.data,this.options,this.$els);break;case"month":this.createMonths(),z("months",this.data,this.options,this.$els);break;case"year":this.createYears(),z("years",this.data,this.options,this.$els);break}},createYears(){const[s,t]=S(this.options.dateRange,"yyyy"),[e,i]=B(this),n=[],a=this.data.today.substr(0,4),{startFullYear:o,endFullYear:l}=Ie(this.data.current[0]);let r;for(let d=o;d<=l;d++)r=d.toString(),n.push({text:r,fullText:r,value:d,disabled:H(d,s,t),isRangeFirst:d===e&&i,isRangeLast:d===i&&e,isRangeTemp:V(d,this),selected:this._isSelected(d),current:a===r,date:this.toDate(r)});this.data.years=n,U(n,s,t,this.$els.calendar)},createMonths(){const[s,t]=S(this.options.dateRange,"yyyyMM"),[e,i]=B(this),n=[],a=this.data.today.substr(0,7),o=this.data.current[0]+"/",l=p(this.data.current[0])*100;let r,d,c;for(let h=1;h<=12;h++)r=I(h),d=o+r,c=l+h,n.push({text:r,fullText:d,value:c,disabled:H(c,s,t),isRangeFirst:c===e&&i,isRangeLast:c===i&&e,isRangeTemp:V(c,this),selected:this._isSelected(c),current:d.startsWith(a),date:this.toDate(d)});this.data.months=n,U(n,s,t,this.$els.calendar)},createDays(){const[s,t]=S(this.options.dateRange,"yyyyMMdd"),[e,i]=B(this),{firstDayOfWeek:n,lastDayOfMonth:a}=we(this.data),o=new Array(n).fill(0);for(let f=1;f<=a;f++)o.push(f);if(o.length%7!==0)for(let f=0;f<o.length%7;f++)o.push(0);let l=0,r,d,c;const h=this.data.current.slice(0,2).join("/")+"/",{itemFormatter:_}=this.options,E=o.map(f=>{l>6&&(l=0),r=f>0?I(f):"";const T=h+r;return c=f>0?+T.replace(/\//g,""):0,d={text:r,fullText:f>0?T:"",value:c,week:l++,disabled:!f||H(c,s,t),holiday:!1,isRangeFirst:c===e&&i,isRangeLast:c===i&&e,isRangeTemp:V(c,this),selected:this._isSelected(c),current:this.data.today===T,date:f>0?this.toDate(T):null},fe(_)?_(d):d});this.data.dates=E,U(E,s,t,this.$els.calendar)},destroy(){this.$els.calendar.removeEventListener("click",this.eventsHandler),this.$els.parent.removeChild(this.$els.calendar)},_isSelected(s){const t=this.data.selected;switch(this.options.mode){case A:{const[e,i]=t;if(s&&e&&i)return s>=e.value&&s<=i.value;break}default:return t.some(e=>e.value===s)}return!1}};function Ze(s,t,e,i){const n=s.map(o=>e?g(o.fullText,e,i):o.fullText);return!t||t===Z?n[0]:n}function qe(s){const t={...s.option};let e;return Object.keys(N).forEach(i=>{e=s[i],typeof e<"u"&&(!Array.isArray(N[i])||N[i].includes(e))&&(t[i]=e)}),s.value&&(t.defaultDate=s.value),t}const Ke=_e('<div class="zx-calendar-wrapper"><div></div></div>');function Xe(s){const{change:t,instance:e}=s;let i;return y.onMount(()=>{const n=qe(s);n.el=i;const a=new $(n);e==null||e(a),a.on("change",o=>{t==null||t(Ze(o,n.mode,n.format,n.langPackage),o)})}),(()=>{const n=Ke.cloneNode(!0),a=n.firstChild;q(n,()=>s.header,a);const o=i;return typeof o=="function"?Ee(o,a):i=a,q(n,()=>s.footer,null),n})()}u.DEF_COLORS=pe,u.DEF_OPTIONS=N,u.FORMATTERS=ze,u.MODE_MULTIPLE=We,u.MODE_RANGE=Ve,u.MODE_SINGLE=Z,u.TYPE_DATE=ye,u.TYPE_MONTH=Ge,u.TYPE_YEAR=Ue,u.ZxCalendar=$,u.ZxSolidCalendar=Xe,Object.defineProperties(u,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
