(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function s(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerpolicy&&(a.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?a.credentials="include":i.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=s(i);fetch(i.href,a)}})();const $={};function $t(e){$.context=e}const Rt=(e,t)=>e===t,je={equals:Rt};let Qe=at;const M=1,G=2,et={owned:null,cleanups:null,context:null,owner:null};var _=null;let R=null,f=null,m=null,x=null,$e=0;function kt(e,t){const s=f,n=_,i=e.length===0,a=i?et:{owned:null,cleanups:null,context:null,owner:t||n},l=i?e:()=>e(()=>I(()=>Re(a)));_=a,f=null;try{return U(l,!0)}finally{f=s,_=n}}function tt(e,t){t=t?Object.assign({},je,t):je;const s={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},n=i=>(typeof i=="function"&&(i=i(s.value)),nt(s,i));return[Lt.bind(s),n]}function Ee(e,t,s){const n=it(e,t,!1,M);le(n)}function Nt(e,t,s){Qe=Ot;const n=it(e,t,!1,M);n.user=!0,x?x.push(n):le(n)}function I(e){const t=f;f=null;try{return e()}finally{f=t}}function st(e){Nt(()=>I(e))}function Ft(){return _}function Lt(){const e=R;if(this.sources&&(this.state||e))if(this.state===M||e)le(this);else{const t=m;m=null,U(()=>q(this),!1),m=t}if(f){const t=this.observers?this.observers.length:0;f.sources?(f.sources.push(this),f.sourceSlots.push(t)):(f.sources=[this],f.sourceSlots=[t]),this.observers?(this.observers.push(f),this.observerSlots.push(f.sources.length-1)):(this.observers=[f],this.observerSlots=[f.sources.length-1])}return this.value}function nt(e,t,s){let n=e.value;return(!e.comparator||!e.comparator(n,t))&&(e.value=t,e.observers&&e.observers.length&&U(()=>{for(let i=0;i<e.observers.length;i+=1){const a=e.observers[i],l=R&&R.running;l&&R.disposed.has(a),(l&&!a.tState||!l&&!a.state)&&(a.pure?m.push(a):x.push(a),a.observers&&lt(a)),l||(a.state=M)}if(m.length>1e6)throw m=[],new Error},!1)),t}function le(e){if(!e.fn)return;Re(e);const t=_,s=f,n=$e;f=_=e,jt(e,e.value,n),f=s,_=t}function jt(e,t,s){let n;try{n=e.fn(t)}catch(i){e.pure&&(e.state=M),rt(i)}(!e.updatedAt||e.updatedAt<=s)&&(e.updatedAt!=null&&"observers"in e?nt(e,n):e.value=n,e.updatedAt=s)}function it(e,t,s,n=M,i){const a={fn:e,state:n,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:_,context:null,pure:s};return _===null||_!==et&&(_.owned?_.owned.push(a):_.owned=[a]),a}function Z(e){const t=R;if(e.state===0||t)return;if(e.state===G||t)return q(e);if(e.suspense&&I(e.suspense.inFallback))return e.suspense.effects.push(e);const s=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<$e);)(e.state||t)&&s.push(e);for(let n=s.length-1;n>=0;n--)if(e=s[n],e.state===M||t)le(e);else if(e.state===G||t){const i=m;m=null,U(()=>q(e,s[0]),!1),m=i}}function U(e,t){if(m)return e();let s=!1;t||(m=[]),x?s=!0:x=[],$e++;try{const n=e();return It(s),n}catch(n){m||(x=null),rt(n)}}function It(e){if(m&&(at(m),m=null),e)return;const t=x;x=null,t.length&&U(()=>Qe(t),!1)}function at(e){for(let t=0;t<e.length;t++)Z(e[t])}function Ot(e){let t,s=0;for(t=0;t<e.length;t++){const n=e[t];n.user?e[s++]=n:Z(n)}for($.context&&$t(),t=0;t<s;t++)Z(e[t])}function q(e,t){const s=R;e.state=0;for(let n=0;n<e.sources.length;n+=1){const i=e.sources[n];i.sources&&(i.state===M||s?i!==t&&Z(i):(i.state===G||s)&&q(i,t))}}function lt(e){const t=R;for(let s=0;s<e.observers.length;s+=1){const n=e.observers[s];(!n.state||t)&&(n.state=G,n.pure?m.push(n):x.push(n),n.observers&&lt(n))}}function Re(e){let t;if(e.sources)for(;e.sources.length;){const s=e.sources.pop(),n=e.sourceSlots.pop(),i=s.observers;if(i&&i.length){const a=i.pop(),l=s.observerSlots.pop();n<i.length&&(a.sourceSlots[l]=n,i[n]=a,s.observerSlots[n]=l)}}if(e.owned){for(t=0;t<e.owned.length;t++)Re(e.owned[t]);e.owned=null}if(e.cleanups){for(t=0;t<e.cleanups.length;t++)e.cleanups[t]();e.cleanups=null}e.state=0,e.context=null}function Bt(e){return e instanceof Error||typeof e=="string"?e:new Error("Unknown error")}function rt(e){throw e=Bt(e),e}function O(e,t){return I(()=>e(t||{}))}function Yt(e,t,s){let n=s.length,i=t.length,a=n,l=0,r=0,c=t[i-1].nextSibling,u=null;for(;l<i||r<a;){if(t[l]===s[r]){l++,r++;continue}for(;t[i-1]===s[a-1];)i--,a--;if(i===l){const o=a<n?r?s[r-1].nextSibling:s[a-r]:c;for(;r<a;)e.insertBefore(s[r++],o)}else if(a===r)for(;l<i;)(!u||!u.has(t[l]))&&t[l].remove(),l++;else if(t[l]===s[a-1]&&s[r]===t[i-1]){const o=t[--i].nextSibling;e.insertBefore(s[r++],t[l++].nextSibling),e.insertBefore(s[--a],o),t[i]=s[a]}else{if(!u){u=new Map;let h=r;for(;h<a;)u.set(s[h],h++)}const o=u.get(t[l]);if(o!=null)if(r<o&&o<a){let h=l,g=1,p;for(;++h<i&&h<a&&!((p=u.get(t[h]))==null||p!==o+g);)g++;if(g>o-r){const d=t[l];for(;r<o;)e.insertBefore(s[r++],d)}else e.replaceChild(s[r++],t[l++])}else l++;else t[l++].remove()}}}function Pt(e,t,s,n={}){let i;return kt(a=>{i=a,t===document?e():D(t,e(),t.firstChild?null:void 0,s)},n.owner),()=>{i(),t.textContent=""}}function V(e,t,s){const n=document.createElement("template");n.innerHTML=e;let i=n.content.firstChild;return s&&(i=i.firstChild),i}function Ht(e,t,s){return I(()=>e(t,s))}function D(e,t,s,n){if(s!==void 0&&!n&&(n=[]),typeof t!="function")return K(e,t,n,s);Ee(i=>K(e,t(),i,s),n)}function K(e,t,s,n,i){for($.context&&!s&&(s=[...e.childNodes]);typeof s=="function";)s=s();if(t===s)return s;const a=typeof t,l=n!==void 0;if(e=l&&s[0]&&s[0].parentNode||e,a==="string"||a==="number"){if($.context)return s;if(a==="number"&&(t=t.toString()),l){let r=s[0];r&&r.nodeType===3?r.data=t:r=document.createTextNode(t),s=F(e,s,n,r)}else s!==""&&typeof s=="string"?s=e.firstChild.data=t:s=e.textContent=t}else if(t==null||a==="boolean"){if($.context)return s;s=F(e,s,n)}else{if(a==="function")return Ee(()=>{let r=t();for(;typeof r=="function";)r=r();s=K(e,r,s,n)}),()=>s;if(Array.isArray(t)){const r=[],c=s&&Array.isArray(s);if(be(r,t,s,i))return Ee(()=>s=K(e,r,s,n,!0)),()=>s;if($.context){if(!r.length)return s;for(let u=0;u<r.length;u++)if(r[u].parentNode)return s=r}if(r.length===0){if(s=F(e,s,n),l)return s}else c?s.length===0?Ie(e,r,n):Yt(e,s,r):(s&&F(e),Ie(e,r));s=r}else if(t instanceof Node){if($.context&&t.parentNode)return s=l?[t]:t;if(Array.isArray(s)){if(l)return s=F(e,s,n,t);F(e,s,null,t)}else s==null||s===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);s=t}}return s}function be(e,t,s,n){let i=!1;for(let a=0,l=t.length;a<l;a++){let r=t[a],c=s&&s[a];if(r instanceof Node)e.push(r);else if(!(r==null||r===!0||r===!1))if(Array.isArray(r))i=be(e,r,c)||i;else if(typeof r=="function")if(n){for(;typeof r=="function";)r=r();i=be(e,Array.isArray(r)?r:[r],Array.isArray(c)?c:[c])||i}else e.push(r),i=!0;else{const u=String(r);c&&c.nodeType===3&&c.data===u?e.push(c):e.push(document.createTextNode(u))}}return i}function Ie(e,t,s=null){for(let n=0,i=t.length;n<i;n++)e.insertBefore(t[n],s)}function F(e,t,s,n){if(s===void 0)return e.textContent="";const i=n||document.createTextNode("");if(t.length){let a=!1;for(let l=t.length-1;l>=0;l--){const r=t[l];if(i!==r){const c=r.parentNode===e;!a&&!l?c?e.replaceChild(i,r):e.insertBefore(i,s):c&&r.remove()}else a=!0}}else e.insertBefore(i,s);return[i]}/*!
 * zx-sml version 0.6.5
 * Author: Xing Zhong<zx198401@gmail.com>
 * Repository: https://github.com/capricorncd/zx-sml
 * Released on: 2023-01-14 14:20:30 (GMT+0900)
 */function Wt(e,t=0){return Array.prototype.slice.call(e,t)}const zt=[{label:"Home",path:"/index.html"},{label:"Vue2 demo",path:"/vue.html"},{label:"Vue3 demo",path:"/vue3.html"},{label:"React demo",path:"/react.html"},{label:"Solid-js",path:"/solid.html"}];class Ut extends HTMLElement{constructor(){super(),this.root=this.attachShadow({mode:"open"}),this.styles=document.createElement("style"),this.styles.innerHTML=`
      header {
        position: fixed;
        z-index: 10;
        top: 0;
        left: 0;
        width: 100%;
        height: 60px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        background: #fff;
        display: flex;
        align-items: center;
        justify-content: space-between;
      }
      .icon-github {
        margin-right: 20px;
      }
      .nav-wrap {
        margin-left: 20px;
      }
      a {
        font-size: 12px;
        text-decoration: none;
      }
      .nav-wrap a:hover:not(.current-link) {
        text-decoration: underline;
      }
      .nav-wrap .current-link {
        text-decoration: underline;
        font-weight: bold;
      }
      h1 {
        margin: 0;
        padding: 0;
        line-height: 1;
        font-size: 24px;
      }
    `,this.template=document.createElement("template"),this.template.innerHTML=`
      <header>
        <div class="nav-wrap">
          <h1>zx-calendar</h1>
          <nav>
            ${zt.map(t=>`<a class="${location.pathname.endsWith(t.path)?"current-link":""}" href=".${t.path}">${t.label}</a>`).join(`
`)}
          </nav>
        </div>
        <a class="icon-github" href="https://github.com/capricorncd/calendar" target="_blank">
          <svg height="24" viewBox="0 0 16 16" version="1.1" width="24"
            aria-hidden="true">
            <path fill-rule="evenodd"
              d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z">
            </path>
          </svg>
        </a>
      </header>
    `}connectedCallback(){this.root.appendChild(this.template.content),this.root.appendChild(this.styles)}}customElements.define("demo-header",Ut);const Vt="yyyy/MM",Jt="yyyy-yyyy",Gt="yyyy",A="is-selected",ot="is-disabled",Zt="is-holiday",qt="is-current",ct="is-range-first",ut="is-range-last",dt="is-range-first-last",ht="is-range-temp",Oe="is-first-page",Be="is-last-page",Kt="is-weekend",X="date-only",Se="__prev-button",xe="__next-button",ke="__title-wrapper",ft="__item-week",pt="__confirm-button",gt="__clear-button",yt="__cancel-button",Ye="multiple",k="range",Xt="single",De="date",we="month",Q="year",Pe={en:{full:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},jp:{full:["\u65E5\u66DC\u65E5","\u6708\u66DC\u65E5","\u706B\u66DC\u65E5","\u6C34\u66DC\u65E5","\u6728\u66DC\u65E5","\u91D1\u66DC\u65E5","\u571F\u66DC\u65E5"],abbr:["\u65E5","\u6708","\u706B","\u6C34","\u6728","\u91D1","\u571F"]},zh:{full:["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"],abbr:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"]}},Qt=["confirmButton","cancelButton","clearButton"],He={en:["ok","cancel","clear"],jp:["\u9078\u629E","\u30AD\u30E3\u30F3\u30BB\u30EB","\u30AF\u30EA\u30A2\u30FC"],zh:["\u786E\u5B9A","\u53D6\u6D88","\u6E05\u9664"]};function es(e="en",t){const s=He[e]||He.en,n=Qt.reduce((a,l,r)=>(a[l]=s[r],a),{}),i=Pe[e]||Pe.en;return n.weeks=t?i.full:i.abbr,n}function ts({lang:e,isFullWeek:t,langPackage:s}){return{langPackage:{...es(e,t),...s}}}/*!
 * date-utils-2020 v1.1.0
 * Author: Capricorncd
 * Repository: https://github.com/capricorncd/date-utils-2020#readme
 * Released on: 2023/01/14 14:10:19 GMT+0900
 */function ee(e){return String(e).padStart(2,"0")}const ss={weeks:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]};function w(e,t,s){const n=B(e);if(!n||!t)return String(e);if(t==="timestamp")return n.getTime().toString();if(/(y+)/i.test(t)){const l=RegExp.$1;t=t.replace(l,(n.getFullYear()+"").substring(4-l.length))}(!s||!Array.isArray(s.weeks))&&(s=ss);const i={"M+":n.getMonth()+1,"d+":n.getDate(),"h+":n.getHours(),"m+":n.getMinutes(),"s+":n.getSeconds(),"a+":n.getHours()<12?"am":"pm","A+":n.getHours()<12?"AM":"PM"};let a;for(const l in i)if(new RegExp("("+l+")").test(t)){a=RegExp.$1;const r=i[l]+"";t=t.replace(a,a.length===1?r:ee(r))}if(/w+/i.test(t)){const l=n.getDay();t=t.replace(/w+/i,/W+/.test(t)?s.weeks[l]:String(l))}if(/g/i.test(t)){const l=n.toString().split(/\s+/).slice(5),r=t.includes("g");t=t.replace(/g/i,r?l[0]:l.join(" "))}return t}function B(e){let t=null;if(e instanceof Date)t=e;else if(typeof e=="number")t=new Date(e);else if(typeof e=="string"){let s=e.trim();if(/^\d+$/.test(s)){const n=s.length;n===8?t=new Date([s.substring(0,4),s.substring(4,6),s.substring(6,8)].join("/")):n===6?t=new Date([s.substring(0,4),s.substring(4,6),"01"].join("/")):n===4?t=new Date(s+"/01/01"):t=new Date(parseInt(e))}else s=s.replace(/[年月日]/g,n=>n==="\u65E5"?"":"/").replace(/[(（（].*?[)））]/g," ").replace(/\bam|pm\b/ig," ").replace(/\s+/g," "),/^(\d{4})[-/](\d{1,2})[-/](\d{1,2})$/.test(s)?t=new Date([RegExp.$1,RegExp.$2,RegExp.$3].join("/")):/^(\d{4})[-/](\d{1,2})$/.test(s)?t=new Date([RegExp.$1,RegExp.$2,"01"].join("/")):t=new Date(s)}return t&&!isNaN(t.getFullYear())?t:null}const ns={date:"yyyyMMdd",month:"yyyyMM",year:"yyyy"};function E(e){return e>>0}function Y(e){return typeof e=="string"}function We(e){return typeof e=="function"}function is({current:e,currentDate:t}){const s=e.slice(0,2);s.push("01");const n=new Date(s.join("/")).getDay();let i=t.getFullYear(),a=t.getMonth()+1;a===12?(i+=1,a=1):a+=1;const l=new Date(`${i}/${ee(a)}/01`).getTime(),r=new Date(l-1);return{firstDayOfWeek:n,lastDayOfMonth:r.getDate()}}function as(e){const t=E(e.substr(2)),s=t%20===0,n=Math.floor(t/20);let i=(s?n-1:n)*20+1,a=E(e.substr(0,2));n===0&&t===0&&(a-=1,i=81);const l=a*100+i,r=l+19;return{startFullYear:l,endFullYear:r}}function v(e,t){const s=[];if(Array.isArray(e)){const[n,i]=e;let a=B(n),l=B(i);Y(t)&&(a=a?+w(a,t):null,l=l?+w(l,t):null),s.push(a),s.push(l)}return s}function re({data:e,options:t}){const s=[];return t.mode===k&&e.selected.forEach(n=>{s.push(n?n.value:null)}),s}function oe(e,t,s){return!!t&&e<t||!!s&&e>s}function mt(e,{type:t,mode:s}){const n=[];if(e){Array.isArray(e)||(e=[e]),s===Xt&&e.length>1&&(e=e.slice(0,1)),s===k&&e.length>2&&(e=e.slice(0,2));const i=ns[t];let a;e.forEach(l=>{a=B(l),a&&n.push({value:E(w(a,i)),date:a,fullText:w(a,"yyyy/MM/dd")})}),n.sort((l,r)=>l.value-r.value)}return n}function ce(e,t,s){return t&&t>e||s&&s<e}function ls(e,t,s,n){const i=[];switch(n){case k:{const[a,l]=e;a&&ce(+a.date,t,s)&&i.push(a),l&&ce(+l.date,t,s)&&i.push(l);break}default:e.forEach(a=>{ce(+a.date,t,s)&&i.push(a)})}return i.length>0}function rs(e){const{options:t}=this;let s=null;const[n,i]=v(t.dateRange);if(n&&+n>+s&&(s=n),i&&+i<+s&&(s=i),e.length)if(ls(e,n,i,t.type)){let a=setTimeout(()=>{this.emit("error",new Error(`The default date[${t.defaultDate}] is not within the range[${t.dateRange}].`)),clearTimeout(a),a=null},0)}else s=e[0].date;return s}function ue(e,{data:t,options:s}){return s.mode===k&&t.selected.length===1?e===t.selected[0].value:!1}function L(e){if(typeof e>"u"&&(e="undefined"),e===null&&(e="null"),Y(e))return document.createTextNode(e);const t=document.createElement(e.t||"div"),s=e.a;s&&typeof s=="object"&&Object.keys(s).forEach(i=>{t.setAttribute(i,s[i])});const n=e.c;return Array.isArray(n)&&n.length>0&&n.forEach(i=>{t.appendChild(L(i))}),t}function Ne(e,t=document){if(!e)return null;let s=null;return Y(e)?s=t.querySelector(e):typeof e=="object"&&e.nodeType===1&&(s=e),s}function os(e,t,s){const n="__item",i={};if(t.includes(n))i.el=e,i.className=t;else if(e!==s){let a=e.parentElement;for(;a&&a!==s;){if(a.className.split(" ").includes(n)){i.el=a,i.className=a.className.split(" ");break}a=a.parentElement}}return i.el&&(i.index=E(i.el.getAttribute("data-index"))),i}function P(...e){const t=e[0],s=e.slice(1),n=[];t.className.split(" ").forEach(i=>{s.includes(i)||n.push(i)}),t.className=n.join(" ")}function te(...e){const t=e[0],s=t.className.split(" ");e.slice(1).forEach(n=>{s.includes(n)||s.push(n)}),t.className=s.join(" ")}const cs={a:{class:"zx-calendar"}},us={a:{class:"zx-calendar-header-wrapper"},c:[{a:{class:"__l"},c:[{t:"button",a:{type:"button",class:Se}},{t:"button",a:{type:"button",class:[Se,X].join(" ")}}]},{a:{class:ke}},{a:{class:"__r"},c:[{t:"button",a:{type:"button",class:[xe,X].join(" ")}},{t:"button",a:{type:"button",class:xe}}]}]},ds={a:{class:"zx-calendar-week-wrapper"},c:[]},hs={a:{class:"zx-calendar-body-wrapper"}},fs={a:{class:"zx-calender-footer-wrapper"},c:[]},ps={confirm:{t:"button",a:{class:pt}},clear:{t:"button",a:{class:gt}},cancel:{t:"button",a:{class:yt}}};function gs(e,t){if(t.type!==De)return null;const s=JSON.parse(JSON.stringify(ds));return e.forEach((n,i)=>{const a=i===0||i===6;s.c.push({a:{class:ft+(a?" "+Kt:"")},c:[n]})}),L(s)}function de(e,t,s,n){const i=e.some(l=>t&&l.value&&l.value<t),a=e.some(l=>s&&l.value&&l.value>s);i?te(n,Oe):P(n,Oe),a?te(n,Be):P(n,Be)}function he(e,t,{titleFormatter:s,type:n,itemSuffix:i,showHoliday:a},{header:l,body:r}){const c=t[e]||[];let u=null;if(n===Q){const p=c[0],d=c[c.length-1];let y=0;u=s.replace(/(y+)/g,()=>y++===0?p.text:d.text)}else u=w(t.currentDate,s);Ne("."+ke,l).innerText=u;let o,h,g;r.innerHTML=c.reduce((p,d,y)=>(o=["__item"],d.disabled&&o.push(ot),d.value>0?(g="",d.holiday&&(o.push(Zt),g=` title="${d.holiday}"`),d.selected&&o.push(A),d.current&&o.push(qt),d.isRangeFirst&&d.isRangeLast?o.push(dt):(d.isRangeFirst&&o.push(ct),d.isRangeLast&&o.push(ut)),d.isRangeTemp&&o.push(ht),h=[`<div class="${o.join(" ")}" data-index="${y}"${g}>`],h.push('<div class="__inner">'),h.push(`<p class="__text">${d.text}`),i&&h.push(`<span class="__suffix">${i}</span>`),a&&d.holiday&&h.push(`<span class="__holiday">${d.holiday}</span>`),h.push("</p></div></div>")):h=[`<div class="${o.join(" ")}"><div class="__inner"></div></div>`],p.push(h.join("")),p),[]).join("")}function ze(e,{body:t},s){const[...n]=t.querySelectorAll("."+A);n.forEach(i=>{P(i,A),s&&P(i,ct,ut,dt)}),te(e,s?ht:A)}const ys="single",ms="date",_s={primary:"#f30",arrow:"#999",holidayDot:"rgba(0, 0, 0, 0.2)",currentItemBg:"#eee",white:"#fff",rangeBg:"#eee"},Es={el:null,dateRange:[],lang:"zh",showHoliday:!1,type:ms,isFullWeek:!1,titleFormatter:Vt,itemSuffix:null,defaultDate:[],itemFormatter:null,mode:ys,langPackage:null,footerButtons:["clear","cancel","confirm"],footerButtonAlign:"flex-end",hideFooter:!1,colors:{}};function ve(e={}){const t={...Es,...e,colors:{..._s,...e.colors}};if(e.titleFormatter||(t.type===Q?t.titleFormatter=Jt:t.type===we&&(t.titleFormatter=Gt)),!t.el||!Ne(t.el))throw new Error(`Initial parameter el[${t.el}] is invalid.`);this.options=t,this._eventList={};const{langPackage:s}=ts(t);this.langPackage=s,this.$els={};const n=new Date,i=w(n,"yyyy/MM/dd",s);let a=[];try{a=mt(t.defaultDate,t)}catch(c){setTimeout(()=>{this.emit("error",c)},0)}const l=rs.call(this,a)||n,r=w(l,"yyyy/MM/dd");this.data={today:i,currentDate:l,currentDay:r,current:r.split("/"),selected:a,dates:[],months:[],years:[]},this._initDom()}ve.prototype={constructor:ve,formatDate(e,t,s){return s||(s=this.langPackage),w(e,t,s)},toDate(e){const t=B(e);return t||this.emit("error",new Error(`"${e}" is an invalid Date!`)),t},emit(...e){const t=e[0];this._eventList[t]&&this._eventList[t].forEach(s=>{s.apply(this,e.slice(1))})},on(e,t){!Y(e)||!We(t)||(this._eventList[e]||(this._eventList[e]=[]),this._eventList[e].push(t))},off(e){!Y(e)||!this._eventList[e]||(this._eventList[e].length=0)},_initDom(){const e=this.options,t=Ne(e.el),s=JSON.parse(JSON.stringify(cs)),n=[s.a.class,"type-is-"+e.type,"mode-is-"+e.mode];s.a.class=n.join(" "),s.a.style=Object.keys(e.colors).map(c=>`--zx-calendar-color-${c}: ${e.colors[c]}`).join(";");const i=L(s),a=L(us);i.appendChild(a);const l=gs(this.langPackage.weeks,e);l&&i.appendChild(l);const r=L(hs);if(i.appendChild(r),!e.hideFooter&&(e.mode===Ye||e.mode===k)){const c=JSON.parse(JSON.stringify(fs));e.footerButtons.forEach(o=>{c.c.push({...ps[o],c:[this.langPackage[o+"Button"]]})});const u=L(c);e.footerButtonAlign&&(u.style.justifyContent=e.footerButtonAlign),i.appendChild(u)}t.appendChild(i),this.$els={calendar:i,header:a,week:l,body:r,parent:t},this._updateDom(),this.eventsHandler=this._eventsHandler.bind(this),this.$els.calendar.addEventListener("click",this.eventsHandler)},_eventsHandler(e){e.stopPropagation();const t=e.target,s=t.className.split(" "),n=t.innerText;if(s.includes(Se))this.prev(!s.includes(X));else if(s.includes(xe))this.next(!s.includes(X));else if(s.includes(pt))this.emit("change",[...this.data.selected]);else if(s.includes(yt))this.emit("cancel");else if(s.includes(gt))this.setDate();else if(s.includes(ke))this._onTitleClick({innerText:n,el:t,className:s});else if(s.includes(ft))this._onWeekClick({innerText:n,el:t,className:s});else{const i=os(t,s,this.$els.calendar);i.el&&this._onItemClick(i)}},_onTitleClick(e){this.emit("onTitleClick",e)},prev(e){let[t,s]=this.data.current;switch(this.options.type){case De:if(e){t=E(t)-1;const[n]=v(this.options.dateRange,"yyyy");if(n&&t<=n){t=n;const[i]=v(this.options.dateRange,"MM");i&&(s=i)}}else s=E(s)-1,s===0&&(t=E(t)-1,s=12);this.setCurrentDate([t,s,"01"].join("/"));break;case we:this.setCurrentDate(t-1);break;case Q:{const n=this.data.years[0]||{};this.setCurrentDate(n.value-1);break}}},next(e){let[t,s]=this.data.current;switch(this.options.type){case De:if(e){t=E(t)+1;const[,n]=v(this.options.dateRange,"yyyy");if(n&&t>=n){t=n;const[,i]=v(this.options.dateRange,"MM");i&&(s=i)}}else s=E(s)+1,s===13&&(t=E(t)+1,s=1);this.setCurrentDate([t,s,"01"].join("/"));break;case we:this.setCurrentDate(E(t)+1);break;case Q:{const n=this.data.years,i=n[n.length-1]||{};this.setCurrentDate(i.value+1);break}}},_onWeekClick(e){this.emit("onWeekClick",e)},_onItemClick({el:e,className:t,index:s}){if(t.includes(ot))return;const n=(this.data[this.options.type+"s"]||[])[s]||{};if(this.options.mode===k){const i=[...this.data.selected],a=i.length;a===0||a>=2&&i.every(l=>!!l)?(this.data.selected=[n],ze(e,this.$els,!0)):a===1&&(i[0].value<n.value?this.data.selected.push(n):this.data.selected.unshift(n),this._updateDom())}else if(this.options.mode===Ye)if(t.includes(A)){P(e,A);const i=this.data.selected.findIndex(a=>a.value===n.value);this.data.selected.splice(i,1)}else te(e,A),n.selected=!0,this.data.selected.push(n);else t.includes(A)||(ze(e,this.$els),n.selected=!0,this.data.selected=[{...n}],this.emit("change",[...this.data.selected]))},setDateRange(e,t){this.options.dateRange=[e,t],this._updateDom()},setDate(e){try{if(this.data.selected=mt(e,this.options),this.data.selected.length===0){this._updateDom();return}const t=this.data.selected[0];this.setCurrentDate(t.fullText)}catch(t){this.emit("error",t)}},getDate(){return this.data.selected.slice(0)},setCurrentDate(e){const t=this.toDate(String(e));if(!t)return;const s=w(t,"yyyy/MM/dd");this.data.currentDate=t,this.data.currentDay=s,this.data.current=s.split("/"),this._updateDom()},_updateDom(){switch(this.options.type){case"date":this.createDays(),he("dates",this.data,this.options,this.$els);break;case"month":this.createMonths(),he("months",this.data,this.options,this.$els);break;case"year":this.createYears(),he("years",this.data,this.options,this.$els);break}},createYears(){const[e,t]=v(this.options.dateRange,"yyyy"),[s,n]=re(this),i=[],a=this.data.today.substr(0,4),{startFullYear:l,endFullYear:r}=as(this.data.current[0]);let c;for(let u=l;u<=r;u++)c=u.toString(),i.push({text:c,fullText:c,value:u,disabled:oe(u,e,t),isRangeFirst:u===s&&n,isRangeLast:u===n&&s,isRangeTemp:ue(u,this),selected:this._isSelected(u),current:a===c,date:this.toDate(c)});this.data.years=i,de(i,e,t,this.$els.calendar)},createMonths(){const[e,t]=v(this.options.dateRange,"yyyyMM"),[s,n]=re(this),i=[],a=this.data.today.substr(0,7),l=this.data.current[0]+"/",r=E(this.data.current[0])*100;let c,u,o;for(let h=1;h<=12;h++)c=ee(h),u=l+c,o=r+h,i.push({text:c,fullText:u,value:o,disabled:oe(o,e,t),isRangeFirst:o===s&&n,isRangeLast:o===n&&s,isRangeTemp:ue(o,this),selected:this._isSelected(o),current:u.startsWith(a),date:this.toDate(u)});this.data.months=i,de(i,e,t,this.$els.calendar)},createDays(){const[e,t]=v(this.options.dateRange,"yyyyMMdd"),[s,n]=re(this),{firstDayOfWeek:i,lastDayOfMonth:a}=is(this.data),l=new Array(i).fill(0);for(let d=1;d<=a;d++)l.push(d);if(l.length%7!==0)for(let d=0;d<l.length%7;d++)l.push(0);let r=0,c,u,o;const h=this.data.current.slice(0,2).join("/")+"/",{itemFormatter:g}=this.options,p=l.map(d=>{r>6&&(r=0),c=d>0?ee(d):"";const y=h+c;return o=d>0?+y.replace(/\//g,""):0,u={text:c,fullText:d>0?y:"",value:o,week:r++,disabled:!d||oe(o,e,t),holiday:!1,isRangeFirst:o===s&&n,isRangeLast:o===n&&s,isRangeTemp:ue(o,this),selected:this._isSelected(o),current:this.data.today===y,date:d>0?this.toDate(y):null},We(g)?g(u):u});this.data.dates=p,de(p,e,t,this.$els.calendar)},destroy(){this.$els.calendar.removeEventListener("click",this.eventsHandler),this.$els.parent.removeChild(this.$els.calendar)},_isSelected(e){const t=this.data.selected;switch(this.options.mode){case k:{const[s,n]=t;if(e&&s&&n)return e>=s.value&&e<=n.value;break}default:return t.some(s=>s.value===e)}return!1}};/*!
 * date-utils-2020 v1.1.0
 * Author: Capricorncd
 * Repository: https://github.com/capricorncd/date-utils-2020#readme
 * Released on: 2023/01/14 14:10:19 GMT+0900
 */function se(e){return String(e).padStart(2,"0")}const bs={weeks:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]};function S(e,t,s){const n=H(e);if(!n||!t)return String(e);if(t==="timestamp")return n.getTime().toString();if(/(y+)/i.test(t)){const l=RegExp.$1;t=t.replace(l,(n.getFullYear()+"").substring(4-l.length))}(!s||!Array.isArray(s.weeks))&&(s=bs);const i={"M+":n.getMonth()+1,"d+":n.getDate(),"h+":n.getHours(),"m+":n.getMinutes(),"s+":n.getSeconds(),"a+":n.getHours()<12?"am":"pm","A+":n.getHours()<12?"AM":"PM"};let a;for(const l in i)if(new RegExp("("+l+")").test(t)){a=RegExp.$1;const r=i[l]+"";t=t.replace(a,a.length===1?r:se(r))}if(/w+/i.test(t)){const l=n.getDay();t=t.replace(/w+/i,/W+/.test(t)?s.weeks[l]:String(l))}if(/g/i.test(t)){const l=n.toString().split(/\s+/).slice(5),r=t.includes("g");t=t.replace(/g/i,r?l[0]:l.join(" "))}return t}function H(e){let t=null;if(e instanceof Date)t=e;else if(typeof e=="number")t=new Date(e);else if(typeof e=="string"){let s=e.trim();if(/^\d+$/.test(s)){const n=s.length;n===8?t=new Date([s.substring(0,4),s.substring(4,6),s.substring(6,8)].join("/")):n===6?t=new Date([s.substring(0,4),s.substring(4,6),"01"].join("/")):n===4?t=new Date(s+"/01/01"):t=new Date(parseInt(e))}else s=s.replace(/[年月日]/g,n=>n==="\u65E5"?"":"/").replace(/[(（（].*?[)））]/g," ").replace(/\bam|pm\b/ig," ").replace(/\s+/g," "),/^(\d{4})[-/](\d{1,2})[-/](\d{1,2})$/.test(s)?t=new Date([RegExp.$1,RegExp.$2,RegExp.$3].join("/")):/^(\d{4})[-/](\d{1,2})$/.test(s)?t=new Date([RegExp.$1,RegExp.$2,"01"].join("/")):t=new Date(s)}return t&&!isNaN(t.getFullYear())?t:null}const Ss="yyyy/MM",xs="yyyy-yyyy",Ds="yyyy",C="is-selected",_t="is-disabled",ws="is-holiday",vs="is-current",Et="is-range-first",bt="is-range-last",St="is-range-first-last",xt="is-range-temp",Ue="is-first-page",Ve="is-last-page",Ts="is-weekend",ne="date-only",Te="__prev-button",Ae="__next-button",Fe="__title-wrapper",Dt="__item-week",wt="__confirm-button",vt="__clear-button",Tt="__cancel-button",Je="multiple",N="range",As="single",Ce="date",Me="month",ie="year",Ge={en:{full:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},jp:{full:["\u65E5\u66DC\u65E5","\u6708\u66DC\u65E5","\u706B\u66DC\u65E5","\u6C34\u66DC\u65E5","\u6728\u66DC\u65E5","\u91D1\u66DC\u65E5","\u571F\u66DC\u65E5"],abbr:["\u65E5","\u6708","\u706B","\u6C34","\u6728","\u91D1","\u571F"]},zh:{full:["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"],abbr:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"]}},Cs=["confirmButton","cancelButton","clearButton"],Ze={en:["ok","cancel","clear"],jp:["\u9078\u629E","\u30AD\u30E3\u30F3\u30BB\u30EB","\u30AF\u30EA\u30A2\u30FC"],zh:["\u786E\u5B9A","\u53D6\u6D88","\u6E05\u9664"]};function Ms(e="en",t){const s=Ze[e]||Ze.en,n=Cs.reduce((a,l,r)=>(a[l]=s[r],a),{}),i=Ge[e]||Ge.en;return n.weeks=t?i.full:i.abbr,n}function $s({lang:e,isFullWeek:t,langPackage:s}){return{langPackage:{...Ms(e,t),...s}}}const Rs={date:"yyyyMMdd",month:"yyyyMM",year:"yyyy"};function b(e){return e>>0}function W(e){return typeof e=="string"}function qe(e){return typeof e=="function"}function ks({current:e,currentDate:t}){const s=e.slice(0,2);s.push("01");const n=new Date(s.join("/")).getDay();let i=t.getFullYear(),a=t.getMonth()+1;a===12?(i+=1,a=1):a+=1;const l=new Date(`${i}/${se(a)}/01`).getTime(),r=new Date(l-1);return{firstDayOfWeek:n,lastDayOfMonth:r.getDate()}}function Ns(e){const t=b(e.substr(2)),s=t%20===0,n=Math.floor(t/20);let i=(s?n-1:n)*20+1,a=b(e.substr(0,2));n===0&&t===0&&(a-=1,i=81);const l=a*100+i,r=l+19;return{startFullYear:l,endFullYear:r}}function T(e,t){const s=[];if(Array.isArray(e)){const[n,i]=e;let a=H(n),l=H(i);W(t)&&(a=a?+S(a,t):null,l=l?+S(l,t):null),s.push(a),s.push(l)}return s}function fe({data:e,options:t}){const s=[];return t.mode===N&&e.selected.forEach(n=>{s.push(n?n.value:null)}),s}function pe(e,t,s){return!!t&&e<t||!!s&&e>s}function At(e,{type:t,mode:s}){const n=[];if(e){Array.isArray(e)||(e=[e]),s===As&&e.length>1&&(e=e.slice(0,1)),s===N&&e.length>2&&(e=e.slice(0,2));const i=Rs[t];let a;e.forEach(l=>{a=H(l),a&&n.push({value:b(S(a,i)),date:a,fullText:S(a,"yyyy/MM/dd")})}),n.sort((l,r)=>l.value-r.value)}return n}function ge(e,t,s){return t&&t>e||s&&s<e}function Fs(e,t,s,n){const i=[];switch(n){case N:{const[a,l]=e;a&&ge(+a.date,t,s)&&i.push(a),l&&ge(+l.date,t,s)&&i.push(l);break}default:e.forEach(a=>{ge(+a.date,t,s)&&i.push(a)})}return i.length>0}function Ls(e){const{options:t}=this;let s=null;const[n,i]=T(t.dateRange);if(n&&+n>+s&&(s=n),i&&+i<+s&&(s=i),e.length)if(Fs(e,n,i,t.type)){let a=setTimeout(()=>{this.emit("error",new Error(`The default date[${t.defaultDate}] is not within the range[${t.dateRange}].`)),clearTimeout(a),a=null},0)}else s=e[0].date;return s}function ye(e,{data:t,options:s}){return s.mode===N&&t.selected.length===1?e===t.selected[0].value:!1}function j(e){if(typeof e>"u"&&(e="undefined"),e===null&&(e="null"),W(e))return document.createTextNode(e);const t=document.createElement(e.t||"div"),s=e.a;s&&typeof s=="object"&&Object.keys(s).forEach(i=>{t.setAttribute(i,s[i])});const n=e.c;return Array.isArray(n)&&n.length>0&&n.forEach(i=>{t.appendChild(j(i))}),t}function Le(e,t=document){if(!e)return null;let s=null;return W(e)?s=t.querySelector(e):typeof e=="object"&&e.nodeType===1&&(s=e),s}function js(e,t,s){const n="__item",i={};if(t.includes(n))i.el=e,i.className=t;else if(e!==s){let a=e.parentElement;for(;a&&a!==s;){if(a.className.split(" ").includes(n)){i.el=a,i.className=a.className.split(" ");break}a=a.parentElement}}return i.el&&(i.index=b(i.el.getAttribute("data-index"))),i}function z(...e){const t=e[0],s=e.slice(1),n=[];t.className.split(" ").forEach(i=>{s.includes(i)||n.push(i)}),t.className=n.join(" ")}function ae(...e){const t=e[0],s=t.className.split(" ");e.slice(1).forEach(n=>{s.includes(n)||s.push(n)}),t.className=s.join(" ")}const Is={a:{class:"zx-calendar"}},Os={a:{class:"zx-calendar-header-wrapper"},c:[{a:{class:"__l"},c:[{t:"button",a:{type:"button",class:Te}},{t:"button",a:{type:"button",class:[Te,ne].join(" ")}}]},{a:{class:Fe}},{a:{class:"__r"},c:[{t:"button",a:{type:"button",class:[Ae,ne].join(" ")}},{t:"button",a:{type:"button",class:Ae}}]}]},Bs={a:{class:"zx-calendar-week-wrapper"},c:[]},Ys={a:{class:"zx-calendar-body-wrapper"}},Ps={a:{class:"zx-calender-footer-wrapper"},c:[]},Hs={confirm:{t:"button",a:{class:wt}},clear:{t:"button",a:{class:vt}},cancel:{t:"button",a:{class:Tt}}};function Ws(e,t){if(t.type!==Ce)return null;const s=JSON.parse(JSON.stringify(Bs));return e.forEach((n,i)=>{const a=i===0||i===6;s.c.push({a:{class:Dt+(a?" "+Ts:"")},c:[n]})}),j(s)}function me(e,t,s,n){const i=e.some(l=>t&&l.value&&l.value<t),a=e.some(l=>s&&l.value&&l.value>s);i?ae(n,Ue):z(n,Ue),a?ae(n,Ve):z(n,Ve)}function _e(e,t,{titleFormatter:s,type:n,itemSuffix:i,showHoliday:a},{header:l,body:r}){const c=t[e]||[];let u=null;if(n===ie){const p=c[0],d=c[c.length-1];let y=0;u=s.replace(/(y+)/g,()=>y++===0?p.text:d.text)}else u=S(t.currentDate,s);Le("."+Fe,l).innerText=u;let o,h,g;r.innerHTML=c.reduce((p,d,y)=>(o=["__item"],d.disabled&&o.push(_t),d.value>0?(g="",d.holiday&&(o.push(ws),g=` title="${d.holiday}"`),d.selected&&o.push(C),d.current&&o.push(vs),d.isRangeFirst&&d.isRangeLast?o.push(St):(d.isRangeFirst&&o.push(Et),d.isRangeLast&&o.push(bt)),d.isRangeTemp&&o.push(xt),h=[`<div class="${o.join(" ")}" data-index="${y}"${g}>`],h.push('<div class="__inner">'),h.push(`<p class="__text">${d.text}`),i&&h.push(`<span class="__suffix">${i}</span>`),a&&d.holiday&&h.push(`<span class="__holiday">${d.holiday}</span>`),h.push("</p></div></div>")):h=[`<div class="${o.join(" ")}"><div class="__inner"></div></div>`],p.push(h.join("")),p),[]).join("")}function Ke(e,{body:t},s){const[...n]=t.querySelectorAll("."+C);n.forEach(i=>{z(i,C),s&&z(i,Et,bt,St)}),ae(e,s?xt:C)}const Ct="single",zs="date",Us={primary:"#f30",arrow:"#999",holidayDot:"rgba(0, 0, 0, 0.2)",currentItemBg:"#eee",white:"#fff",rangeBg:"#eee"},J={el:null,dateRange:[],lang:"zh",showHoliday:!1,type:zs,isFullWeek:!1,titleFormatter:Ss,itemSuffix:null,defaultDate:[],itemFormatter:null,mode:Ct,langPackage:null,footerButtons:["clear","cancel","confirm"],footerButtonAlign:"flex-end",hideFooter:!1,colors:{}};function Xe(e={}){const t={...J,...e,colors:{...Us,...e.colors}};if(e.titleFormatter||(t.type===ie?t.titleFormatter=xs:t.type===Me&&(t.titleFormatter=Ds)),!t.el||!Le(t.el))throw new Error(`Initial parameter el[${t.el}] is invalid.`);this.options=t,this._eventList={};const{langPackage:s}=$s(t);this.langPackage=s,this.$els={};const n=new Date,i=S(n,"yyyy/MM/dd",s);let a=[];try{a=At(t.defaultDate,t)}catch(c){setTimeout(()=>{this.emit("error",c)},0)}const l=Ls.call(this,a)||n,r=S(l,"yyyy/MM/dd");this.data={today:i,currentDate:l,currentDay:r,current:r.split("/"),selected:a,dates:[],months:[],years:[]},this._initDom()}Xe.prototype={constructor:Xe,formatDate(e,t,s){return s||(s=this.langPackage),S(e,t,s)},toDate(e){const t=H(e);return t||this.emit("error",new Error(`"${e}" is an invalid Date!`)),t},emit(...e){const t=e[0];this._eventList[t]&&this._eventList[t].forEach(s=>{s.apply(this,e.slice(1))})},on(e,t){!W(e)||!qe(t)||(this._eventList[e]||(this._eventList[e]=[]),this._eventList[e].push(t))},off(e){!W(e)||!this._eventList[e]||(this._eventList[e].length=0)},_initDom(){const e=this.options,t=Le(e.el),s=JSON.parse(JSON.stringify(Is)),n=[s.a.class,"type-is-"+e.type,"mode-is-"+e.mode];s.a.class=n.join(" "),s.a.style=Object.keys(e.colors).map(c=>`--zx-calendar-color-${c}: ${e.colors[c]}`).join(";");const i=j(s),a=j(Os);i.appendChild(a);const l=Ws(this.langPackage.weeks,e);l&&i.appendChild(l);const r=j(Ys);if(i.appendChild(r),!e.hideFooter&&(e.mode===Je||e.mode===N)){const c=JSON.parse(JSON.stringify(Ps));e.footerButtons.forEach(o=>{c.c.push({...Hs[o],c:[this.langPackage[o+"Button"]]})});const u=j(c);e.footerButtonAlign&&(u.style.justifyContent=e.footerButtonAlign),i.appendChild(u)}t.appendChild(i),this.$els={calendar:i,header:a,week:l,body:r,parent:t},this._updateDom(),this.eventsHandler=this._eventsHandler.bind(this),this.$els.calendar.addEventListener("click",this.eventsHandler)},_eventsHandler(e){e.stopPropagation();const t=e.target,s=t.className.split(" "),n=t.innerText;if(s.includes(Te))this.prev(!s.includes(ne));else if(s.includes(Ae))this.next(!s.includes(ne));else if(s.includes(wt))this.emit("change",[...this.data.selected]);else if(s.includes(Tt))this.emit("cancel");else if(s.includes(vt))this.setDate();else if(s.includes(Fe))this._onTitleClick({innerText:n,el:t,className:s});else if(s.includes(Dt))this._onWeekClick({innerText:n,el:t,className:s});else{const i=js(t,s,this.$els.calendar);i.el&&this._onItemClick(i)}},_onTitleClick(e){this.emit("onTitleClick",e)},prev(e){let[t,s]=this.data.current;switch(this.options.type){case Ce:if(e){t=b(t)-1;const[n]=T(this.options.dateRange,"yyyy");if(n&&t<=n){t=n;const[i]=T(this.options.dateRange,"MM");i&&(s=i)}}else s=b(s)-1,s===0&&(t=b(t)-1,s=12);this.setCurrentDate([t,s,"01"].join("/"));break;case Me:this.setCurrentDate(t-1);break;case ie:{const n=this.data.years[0]||{};this.setCurrentDate(n.value-1);break}}},next(e){let[t,s]=this.data.current;switch(this.options.type){case Ce:if(e){t=b(t)+1;const[,n]=T(this.options.dateRange,"yyyy");if(n&&t>=n){t=n;const[,i]=T(this.options.dateRange,"MM");i&&(s=i)}}else s=b(s)+1,s===13&&(t=b(t)+1,s=1);this.setCurrentDate([t,s,"01"].join("/"));break;case Me:this.setCurrentDate(b(t)+1);break;case ie:{const n=this.data.years,i=n[n.length-1]||{};this.setCurrentDate(i.value+1);break}}},_onWeekClick(e){this.emit("onWeekClick",e)},_onItemClick({el:e,className:t,index:s}){if(t.includes(_t))return;const i=(this.data[this.options.type+"s"]||[])[s]||{};if(this.options.mode===N){const a=[...this.data.selected],l=a.length;l===0||l>=2&&a.every(r=>!!r)?(this.data.selected=[i],Ke(e,this.$els,!0)):l===1&&(a[0].value<i.value?this.data.selected.push(i):this.data.selected.unshift(i),this._updateDom())}else if(this.options.mode===Je)if(t.includes(C)){z(e,C);const a=this.data.selected.findIndex(l=>l.value===i.value);this.data.selected.splice(a,1)}else ae(e,C),i.selected=!0,this.data.selected.push(i);else t.includes(C)||(Ke(e,this.$els),i.selected=!0,this.data.selected=[{...i}],this.emit("change",[...this.data.selected]))},setDateRange(e,t){this.options.dateRange=[e,t],this._updateDom()},setDate(e){try{if(this.data.selected=At(e,this.options),this.data.selected.length===0){this._updateDom();return}const t=this.data.selected[0];this.setCurrentDate(t.fullText)}catch(t){this.emit("error",t)}},getDate(){return this.data.selected.slice(0)},setCurrentDate(e){const t=this.toDate(String(e));if(!t)return;const s=S(t,"yyyy/MM/dd");this.data.currentDate=t,this.data.currentDay=s,this.data.current=s.split("/"),this._updateDom()},_updateDom(){switch(this.options.type){case"date":this.createDays(),_e("dates",this.data,this.options,this.$els);break;case"month":this.createMonths(),_e("months",this.data,this.options,this.$els);break;case"year":this.createYears(),_e("years",this.data,this.options,this.$els);break}},createYears(){const[e,t]=T(this.options.dateRange,"yyyy"),[s,n]=fe(this),i=[],a=this.data.today.substr(0,4),{startFullYear:l,endFullYear:r}=Ns(this.data.current[0]);let c;for(let u=l;u<=r;u++)c=u.toString(),i.push({text:c,fullText:c,value:u,disabled:pe(u,e,t),isRangeFirst:u===s&&n,isRangeLast:u===n&&s,isRangeTemp:ye(u,this),selected:this._isSelected(u),current:a===c,date:this.toDate(c)});this.data.years=i,me(i,e,t,this.$els.calendar)},createMonths(){const[e,t]=T(this.options.dateRange,"yyyyMM"),[s,n]=fe(this),i=[],a=this.data.today.substr(0,7),l=this.data.current[0]+"/",r=b(this.data.current[0])*100;let c,u,o;for(let h=1;h<=12;h++)c=se(h),u=l+c,o=r+h,i.push({text:c,fullText:u,value:o,disabled:pe(o,e,t),isRangeFirst:o===s&&n,isRangeLast:o===n&&s,isRangeTemp:ye(o,this),selected:this._isSelected(o),current:u.startsWith(a),date:this.toDate(u)});this.data.months=i,me(i,e,t,this.$els.calendar)},createDays(){const[e,t]=T(this.options.dateRange,"yyyyMMdd"),[s,n]=fe(this),{firstDayOfWeek:i,lastDayOfMonth:a}=ks(this.data),l=new Array(i).fill(0);for(let d=1;d<=a;d++)l.push(d);if(l.length%7!==0)for(let d=0;d<l.length%7;d++)l.push(0);let r=0,c,u,o;const h=this.data.current.slice(0,2).join("/")+"/",{itemFormatter:g}=this.options,p=l.map(d=>{r>6&&(r=0),c=d>0?se(d):"";const y=h+c;return o=d>0?+y.replace(/\//g,""):0,u={text:c,fullText:d>0?y:"",value:o,week:r++,disabled:!d||pe(o,e,t),holiday:!1,isRangeFirst:o===s&&n,isRangeLast:o===n&&s,isRangeTemp:ye(o,this),selected:this._isSelected(o),current:this.data.today===y,date:d>0?this.toDate(y):null},qe(g)?g(u):u});this.data.dates=p,me(p,e,t,this.$els.calendar)},destroy(){this.$els.calendar.removeEventListener("click",this.eventsHandler),this.$els.parent.removeChild(this.$els.calendar)},_isSelected(e){const t=this.data.selected;switch(this.options.mode){case N:{const[s,n]=t;if(e&&s&&n)return e>=s.value&&e<=n.value;break}default:return t.some(s=>s.value===e)}return!1}};function Vs(e,t,s,n){const i=e.map(l=>s?S(l.fullText,s,n):l.fullText);return!t||t===Ct?i[0]:i}function Js(e){const t={...e.option};let s;return Object.keys(J).forEach(n=>{s=e[n],typeof s<"u"&&(!Array.isArray(J[n])||J[n].includes(s))&&(t[n]=s)}),e.value&&(t.defaultDate=e.value),t}const Gs=V('<div class="zx-calendar-wrapper"><div></div></div>');function Mt(e){const{change:t,instance:s}=e;let n;return st(()=>{const i=Js(e);i.el=n;const a=new ve(i);s==null||s(a),a.on("change",l=>{t==null||t(Vs(l,i.mode,i.format,i.langPackage),l)})}),(()=>{const i=Gs.cloneNode(!0),a=i.firstChild;D(i,()=>e.header,a);const l=n;return typeof l=="function"?Ht(l,a):n=a,D(i,()=>e.footer,null),i})()}const Zs=V(`<div><p>value </p><div class="example-demo-wrapper"><pre><code class="jsx">
import { createSignal } from "solid-js";
import { ZxSolidCalendar } from "zx-calendar/lib/solid-calendar";

export default function Normal() {
 const [date, setDate] = createSignal()
 return (
 &lt;div&gt;
 &lt;p&gt;value {date()}&lt;/p&gt;
 &lt;div class="example-demo-wrapper">
 &lt;ZxSolidCalendar
 footer={&lt;div&gt;insert a footer&lt;/div&gt;}
 value={date()}
 change={(newDate) => {
 setDate(newDate)
 }}
 />
 &lt;/div&gt;
 &lt;/div&gt;
 )
}
</code></pre></div></div>`),qs=V("<div>insert a footer</div>");function Ks(){const[e,t]=tt();return(()=>{const s=Zs.cloneNode(!0),n=s.firstChild;n.firstChild;const i=n.nextSibling,a=i.firstChild;return D(n,e,null),D(i,O(Mt,{get footer(){return qs.cloneNode(!0)},get value(){return e()},change:l=>{t(l)}}),a),s})()}const Xs=V(`<div><h3>type year</h3><p>value is </p><section class="example-demo-wrapper"><pre><code class="jsx">
import { createSignal } from 'solid-js'
import { ZxSolidCalendar } from 'zx-calendar/lib/solid-calendar'

export default function TypeYear() {
 const [year, setYear] = createSignal(new Date().getFullYear().toString())
 return (
 &lt;div&gt;
 &lt;h3&gt;type year&lt;/h3&gt;
 &lt;p&gt;value is {year()}&lt;/p&gt;
 &lt;section class="example-demo-wrapper">
 &lt;ZxSolidCalendar
 type="year"
 value={year()}
 change={(newYear) => {
 setYear(newYear)
 }}
 />
 &lt;/section&gt;
 &lt;/div&gt;
 )
}
</code></pre></section></div>`);function Qs(){const[e,t]=tt(new Date().getFullYear().toString());return(()=>{const s=Xs.cloneNode(!0),n=s.firstChild,i=n.nextSibling;i.firstChild;const a=i.nextSibling,l=a.firstChild;return D(i,e,null),D(a,O(Mt,{type:"year",get value(){return e()},change:r=>{t(r)}}),l),s})()}const en=V(`<div><demo-header></demo-header><h2>Install</h2><pre><code class="bash">npm i zx-calendar</code></pre><h2>Usage</h2><pre><code class="javascript">import { ZxSolidCalendar } from 'zx-calendar/lib/solid-calendar'</code></pre><h2>Example</h2></div>`);function tn(){return st(()=>{Wt(document.querySelectorAll("pre code")).forEach(e=>{window.hljs.highlightElement(e)})}),(()=>{const e=I(()=>document.importNode(en,!0)),t=e.firstChild;return t.nextSibling.nextSibling.nextSibling.nextSibling.nextSibling,t._$owner=Ft(),D(e,O(Ks,{}),null),D(e,O(Qs,{}),null),e})()}Pt(()=>O(tn,{}),document.getElementById("app"));
