/*!
 * zx-calendar version 0.7.3
 * Author: Xing Zhong <capricorncd@qq.com, zx198401@gmail.com>
 * Repository: https://github.com/capricorncd/calendar#readme
 * Released on: 2023-02-05 17:25:08 (GMT+0900)
 */
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerpolicy&&(l.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?l.credentials="include":i.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(i){if(i.ep)return;i.ep=!0;const l=s(i);fetch(i.href,l)}})();const v={};function Pe(e){v.context=e}const We=(e,t)=>e===t,de={equals:We};let xe=De;const T=1,Y=2,we={owned:null,cleanups:null,context:null,owner:null};var g=null;let D=null,h=null,p=null,E=null,re=0;function ze(e,t){const s=h,n=g,i=e.length===0,l=i?we:{owned:null,cleanups:null,context:null,owner:t||n},o=i?e:()=>e(()=>R(()=>ce(l)));g=l,h=null;try{return O(o,!0)}finally{h=s,g=n}}function ae(e,t){t=t?Object.assign({},de,t):de;const s={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},n=i=>(typeof i=="function"&&(i=i(s.value)),Te(s,i));return[Ve.bind(s),n]}function ee(e,t,s){const n=ve(e,t,!1,T);G(n)}function be(e,t,s){xe=Je;const n=ve(e,t,!1,T);n.user=!0,E?E.push(n):G(n)}function R(e){const t=h;h=null;try{return e()}finally{h=t}}function Ae(e){be(()=>R(e))}function Ue(){return g}function Ve(){const e=D;if(this.sources&&(this.state||e))if(this.state===T||e)G(this);else{const t=p;p=null,O(()=>H(this),!1),p=t}if(h){const t=this.observers?this.observers.length:0;h.sources?(h.sources.push(this),h.sourceSlots.push(t)):(h.sources=[this],h.sourceSlots=[t]),this.observers?(this.observers.push(h),this.observerSlots.push(h.sources.length-1)):(this.observers=[h],this.observerSlots=[h.sources.length-1])}return this.value}function Te(e,t,s){let n=e.value;return(!e.comparator||!e.comparator(n,t))&&(e.value=t,e.observers&&e.observers.length&&O(()=>{for(let i=0;i<e.observers.length;i+=1){const l=e.observers[i],o=D&&D.running;o&&D.disposed.has(l),(o&&!l.tState||!o&&!l.state)&&(l.pure?p.push(l):E.push(l),l.observers&&Ce(l)),o||(l.state=T)}if(p.length>1e6)throw p=[],new Error},!1)),t}function G(e){if(!e.fn)return;ce(e);const t=g,s=h,n=re;h=g=e,Ge(e,e.value,n),h=s,g=t}function Ge(e,t,s){let n;try{n=e.fn(t)}catch(i){e.pure&&(e.state=T),Me(i)}(!e.updatedAt||e.updatedAt<=s)&&(e.updatedAt!=null&&"observers"in e?Te(e,n):e.value=n,e.updatedAt=s)}function ve(e,t,s,n=T,i){const l={fn:e,state:n,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:g,context:null,pure:s};return g===null||g!==we&&(g.owned?g.owned.push(l):g.owned=[l]),l}function B(e){const t=D;if(e.state===0||t)return;if(e.state===Y||t)return H(e);if(e.suspense&&R(e.suspense.inFallback))return e.suspense.effects.push(e);const s=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<re);)(e.state||t)&&s.push(e);for(let n=s.length-1;n>=0;n--)if(e=s[n],e.state===T||t)G(e);else if(e.state===Y||t){const i=p;p=null,O(()=>H(e,s[0]),!1),p=i}}function O(e,t){if(p)return e();let s=!1;t||(p=[]),E?s=!0:E=[],re++;try{const n=e();return Ze(s),n}catch(n){p||(E=null),Me(n)}}function Ze(e){if(p&&(De(p),p=null),e)return;const t=E;E=null,t.length&&O(()=>xe(t),!1)}function De(e){for(let t=0;t<e.length;t++)B(e[t])}function Je(e){let t,s=0;for(t=0;t<e.length;t++){const n=e[t];n.user?e[s++]=n:B(n)}for(v.context&&Pe(),t=0;t<s;t++)B(e[t])}function H(e,t){const s=D;e.state=0;for(let n=0;n<e.sources.length;n+=1){const i=e.sources[n];i.sources&&(i.state===T||s?i!==t&&B(i):(i.state===Y||s)&&H(i,t))}}function Ce(e){const t=D;for(let s=0;s<e.observers.length;s+=1){const n=e.observers[s];(!n.state||t)&&(n.state=Y,n.pure?p.push(n):E.push(n),n.observers&&Ce(n))}}function ce(e){let t;if(e.sources)for(;e.sources.length;){const s=e.sources.pop(),n=e.sourceSlots.pop(),i=s.observers;if(i&&i.length){const l=i.pop(),o=s.observerSlots.pop();n<i.length&&(l.sourceSlots[o]=n,i[n]=l,s.observerSlots[n]=o)}}if(e.owned){for(t=0;t<e.owned.length;t++)ce(e.owned[t]);e.owned=null}if(e.cleanups){for(t=0;t<e.cleanups.length;t++)e.cleanups[t]();e.cleanups=null}e.state=0,e.context=null}function Ke(e){return e instanceof Error||typeof e=="string"?e:new Error("Unknown error")}function Me(e){throw e=Ke(e),e}function N(e,t){return R(()=>e(t||{}))}function qe(e,t,s){let n=s.length,i=t.length,l=n,o=0,r=0,a=t[i-1].nextSibling,c=null;for(;o<i||r<l;){if(t[o]===s[r]){o++,r++;continue}for(;t[i-1]===s[l-1];)i--,l--;if(i===o){const u=l<n?r?s[r-1].nextSibling:s[l-r]:a;for(;r<l;)e.insertBefore(s[r++],u)}else if(l===r)for(;o<i;)(!c||!c.has(t[o]))&&t[o].remove(),o++;else if(t[o]===s[l-1]&&s[r]===t[i-1]){const u=t[--i].nextSibling;e.insertBefore(s[r++],t[o++].nextSibling),e.insertBefore(s[--l],u),t[i]=s[l]}else{if(!c){c=new Map;let d=r;for(;d<l;)c.set(s[d],d++)}const u=c.get(t[o]);if(u!=null)if(r<u&&u<l){let d=o,m=1,_;for(;++d<i&&d<l&&!((_=c.get(t[d]))==null||_!==u+m);)m++;if(m>u-r){const f=t[o];for(;r<u;)e.insertBefore(s[r++],f)}else e.replaceChild(s[r++],t[o++])}else o++;else t[o++].remove()}}}function Xe(e,t,s,n={}){let i;return ze(l=>{i=l,t===document?e():x(t,e(),t.firstChild?null:void 0,s)},n.owner),()=>{i(),t.textContent=""}}function F(e,t,s){const n=document.createElement("template");n.innerHTML=e;let i=n.content.firstChild;return s&&(i=i.firstChild),i}function Qe(e,t,s){return R(()=>e(t,s))}function x(e,t,s,n){if(s!==void 0&&!n&&(n=[]),typeof t!="function")return P(e,t,n,s);ee(i=>P(e,t(),i,s),n)}function P(e,t,s,n,i){for(v.context&&!s&&(s=[...e.childNodes]);typeof s=="function";)s=s();if(t===s)return s;const l=typeof t,o=n!==void 0;if(e=o&&s[0]&&s[0].parentNode||e,l==="string"||l==="number"){if(v.context)return s;if(l==="number"&&(t=t.toString()),o){let r=s[0];r&&r.nodeType===3?r.data=t:r=document.createTextNode(t),s=M(e,s,n,r)}else s!==""&&typeof s=="string"?s=e.firstChild.data=t:s=e.textContent=t}else if(t==null||l==="boolean"){if(v.context)return s;s=M(e,s,n)}else{if(l==="function")return ee(()=>{let r=t();for(;typeof r=="function";)r=r();s=P(e,r,s,n)}),()=>s;if(Array.isArray(t)){const r=[],a=s&&Array.isArray(s);if(te(r,t,s,i))return ee(()=>s=P(e,r,s,n,!0)),()=>s;if(v.context){if(!r.length)return s;for(let c=0;c<r.length;c++)if(r[c].parentNode)return s=r}if(r.length===0){if(s=M(e,s,n),o)return s}else a?s.length===0?he(e,r,n):qe(e,s,r):(s&&M(e),he(e,r));s=r}else if(t instanceof Node){if(v.context&&t.parentNode)return s=o?[t]:t;if(Array.isArray(s)){if(o)return s=M(e,s,n,t);M(e,s,null,t)}else s==null||s===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);s=t}}return s}function te(e,t,s,n){let i=!1;for(let l=0,o=t.length;l<o;l++){let r=t[l],a=s&&s[l];if(r instanceof Node)e.push(r);else if(!(r==null||r===!0||r===!1))if(Array.isArray(r))i=te(e,r,a)||i;else if(typeof r=="function")if(n){for(;typeof r=="function";)r=r();i=te(e,Array.isArray(r)?r:[r],Array.isArray(a)?a:[a])||i}else e.push(r),i=!0;else{const c=String(r);a&&a.nodeType===3&&a.data===c?e.push(a):e.push(document.createTextNode(c))}}return i}function he(e,t,s=null){for(let n=0,i=t.length;n<i;n++)e.insertBefore(t[n],s)}function M(e,t,s,n){if(s===void 0)return e.textContent="";const i=n||document.createTextNode("");if(t.length){let l=!1;for(let o=t.length-1;o>=0;o--){const r=t[o];if(i!==r){const a=r.parentNode===e;!l&&!o?a?e.replaceChild(i,r):e.insertBefore(i,s):a&&r.remove()}else l=!0}}else e.insertBefore(i,s);return[i]}/*!
 * zx-sml version 0.6.5
 * Author: Xing Zhong<zx198401@gmail.com>
 * Repository: https://github.com/capricorncd/zx-sml
 * Released on: 2023-01-14 14:20:30 (GMT+0900)
 *//*!
 * date-utils-2020 v1.1.0
 * Author: Capricorncd
 * Repository: https://github.com/capricorncd/date-utils-2020#readme
 * Released on: 2023/01/14 14:10:19 GMT+0900
 */function et(e){return String(e).padStart(2,"0")}const tt={weeks:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]};function st(e,t,s){const n=nt(e);if(!n||!t)return String(e);if(t==="timestamp")return n.getTime().toString();if(/(y+)/i.test(t)){const o=RegExp.$1;t=t.replace(o,(n.getFullYear()+"").substring(4-o.length))}(!s||!Array.isArray(s.weeks))&&(s=tt);const i={"M+":n.getMonth()+1,"d+":n.getDate(),"h+":n.getHours(),"m+":n.getMinutes(),"s+":n.getSeconds(),"a+":n.getHours()<12?"am":"pm","A+":n.getHours()<12?"AM":"PM"};let l;for(const o in i)if(new RegExp("("+o+")").test(t)){l=RegExp.$1;const r=i[o]+"";t=t.replace(l,l.length===1?r:et(r))}if(/w+/i.test(t)){const o=n.getDay();t=t.replace(/w+/i,/W+/.test(t)?s.weeks[o]:String(o))}if(/g/i.test(t)){const o=n.toString().split(/\s+/).slice(5),r=t.includes("g");t=t.replace(/g/i,r?o[0]:o.join(" "))}return t}function nt(e){let t=null;if(e instanceof Date)t=e;else if(typeof e=="number")t=new Date(e);else if(typeof e=="string"){let s=e.trim();if(/^\d+$/.test(s)){const n=s.length;n===8?t=new Date([s.substring(0,4),s.substring(4,6),s.substring(6,8)].join("/")):n===6?t=new Date([s.substring(0,4),s.substring(4,6),"01"].join("/")):n===4?t=new Date(s+"/01/01"):t=new Date(parseInt(e))}else s=s.replace(/[年月日]/g,n=>n==="\u65E5"?"":"/").replace(/[(（（].*?[)））]/g," ").replace(/\bam|pm\b/ig," ").replace(/\s+/g," "),/^(\d{4})[-/](\d{1,2})[-/](\d{1,2})$/.test(s)?t=new Date([RegExp.$1,RegExp.$2,RegExp.$3].join("/")):/^(\d{4})[-/](\d{1,2})$/.test(s)?t=new Date([RegExp.$1,RegExp.$2,"01"].join("/")):t=new Date(s)}return t&&!isNaN(t.getFullYear())?t:null}function it(e,t=0){return Array.prototype.slice.call(e,t)}const lt=[{label:"Home",path:"/index.html"},{label:"Vue2 demo",path:"/vue.html"},{label:"Vue3 demo",path:"/vue3.html"},{label:"React demo",path:"/react.html"},{label:"Solid-js",path:"/solid.html"}];class ot extends HTMLElement{constructor(){super(),this.root=this.attachShadow({mode:"open"}),this.styles=document.createElement("style"),this.styles.innerHTML=`
      header {
        position: fixed;
        z-index: 10;
        top: 0;
        left: 0;
        width: 100%;
        height: 60px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        background: #fff;
        display: flex;
        align-items: center;
        justify-content: space-between;
      }
      .icon-github {
        margin-right: 20px;
      }
      .nav-wrap {
        margin-left: 20px;
      }
      a {
        font-size: 12px;
        text-decoration: none;
      }
      .nav-wrap a:hover:not(.current-link) {
        text-decoration: underline;
      }
      .nav-wrap .current-link {
        text-decoration: underline;
        font-weight: bold;
      }
      h1 {
        margin: 0;
        padding: 0;
        line-height: 1;
        font-size: 24px;
      }
    `,this.template=document.createElement("template"),this.template.innerHTML=`
      <header>
        <div class="nav-wrap">
          <h1>zx-calendar</h1>
          <nav>
            ${lt.map(t=>`<a class="${location.pathname.endsWith(t.path)?"current-link":""}" href=".${t.path}">${t.label}</a>`).join(`
`)}
          </nav>
        </div>
        <a class="icon-github" href="https://github.com/capricorncd/calendar" target="_blank">
          <svg height="24" viewBox="0 0 16 16" version="1.1" width="24"
            aria-hidden="true">
            <path fill-rule="evenodd"
              d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z">
            </path>
          </svg>
        </a>
      </header>
    `}connectedCallback(){this.root.appendChild(this.template.content),this.root.appendChild(this.styles)}}customElements.define("demo-header",ot);const rt="yyyy/MM",at="yyyy-yyyy",ct="yyyy",A="is-selected",$e="is-disabled",ut="is-holiday",ft="is-current",Re="is-range-first",Ne="is-range-last",Le="is-range-first-last",ke="is-range-temp",pe="is-first-page",ge="is-last-page",dt="is-weekend",W="date-only",se="__prev-button",ne="__next-button",ue="__title-wrapper",Ie="__item-week",Oe="__confirm-button",Fe="__clear-button",je="__cancel-button",ye="multiple",C="range",ht="single",ie="date",le="month",z="year",me={en:{full:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},jp:{full:["\u65E5\u66DC\u65E5","\u6708\u66DC\u65E5","\u706B\u66DC\u65E5","\u6C34\u66DC\u65E5","\u6728\u66DC\u65E5","\u91D1\u66DC\u65E5","\u571F\u66DC\u65E5"],abbr:["\u65E5","\u6708","\u706B","\u6C34","\u6728","\u91D1","\u571F"]},zh:{full:["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"],abbr:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"]}},pt=["confirmButton","cancelButton","clearButton"],_e={en:["ok","cancel","clear"],jp:["\u9078\u629E","\u30AD\u30E3\u30F3\u30BB\u30EB","\u30AF\u30EA\u30A2\u30FC"],zh:["\u786E\u5B9A","\u53D6\u6D88","\u6E05\u9664"]};function gt(e="en",t){const s=_e[e]||_e.en,n=pt.reduce((l,o,r)=>(l[o]=s[r],l),{}),i=me[e]||me.en;return n.weeks=t?i.full:i.abbr,n}function yt({lang:e,isFullWeek:t,langPackage:s}){return{langPackage:{...gt(e,t),...s}}}/*!
 * date-utils-2020 v1.1.0
 * Author: Capricorncd
 * Repository: https://github.com/capricorncd/date-utils-2020#readme
 * Released on: 2023/01/14 14:10:19 GMT+0900
 */function U(e){return String(e).padStart(2,"0")}const mt={weeks:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]};function S(e,t,s){const n=L(e);if(!n||!t)return String(e);if(t==="timestamp")return n.getTime().toString();if(/(y+)/i.test(t)){const o=RegExp.$1;t=t.replace(o,(n.getFullYear()+"").substring(4-o.length))}(!s||!Array.isArray(s.weeks))&&(s=mt);const i={"M+":n.getMonth()+1,"d+":n.getDate(),"h+":n.getHours(),"m+":n.getMinutes(),"s+":n.getSeconds(),"a+":n.getHours()<12?"am":"pm","A+":n.getHours()<12?"AM":"PM"};let l;for(const o in i)if(new RegExp("("+o+")").test(t)){l=RegExp.$1;const r=i[o]+"";t=t.replace(l,l.length===1?r:U(r))}if(/w+/i.test(t)){const o=n.getDay();t=t.replace(/w+/i,/W+/.test(t)?s.weeks[o]:String(o))}if(/g/i.test(t)){const o=n.toString().split(/\s+/).slice(5),r=t.includes("g");t=t.replace(/g/i,r?o[0]:o.join(" "))}return t}function L(e){let t=null;if(e instanceof Date)t=e;else if(typeof e=="number")t=new Date(e);else if(typeof e=="string"){let s=e.trim();if(/^\d+$/.test(s)){const n=s.length;n===8?t=new Date([s.substring(0,4),s.substring(4,6),s.substring(6,8)].join("/")):n===6?t=new Date([s.substring(0,4),s.substring(4,6),"01"].join("/")):n===4?t=new Date(s+"/01/01"):t=new Date(parseInt(e))}else s=s.replace(/[年月日]/g,n=>n==="\u65E5"?"":"/").replace(/[(（（].*?[)））]/g," ").replace(/\bam|pm\b/ig," ").replace(/\s+/g," "),/^(\d{4})[-/](\d{1,2})[-/](\d{1,2})$/.test(s)?t=new Date([RegExp.$1,RegExp.$2,RegExp.$3].join("/")):/^(\d{4})[-/](\d{1,2})$/.test(s)?t=new Date([RegExp.$1,RegExp.$2,"01"].join("/")):t=new Date(s)}return t&&!isNaN(t.getFullYear())?t:null}const _t={date:"yyyyMMdd",month:"yyyyMM",year:"yyyy"};function y(e){return e>>0}function k(e){return typeof e=="string"}function Se(e){return typeof e=="function"}function St({current:e,currentDate:t}){const s=e.slice(0,2);s.push("01");const n=new Date(s.join("/")).getDay();let i=t.getFullYear(),l=t.getMonth()+1;l===12?(i+=1,l=1):l+=1;const o=new Date(`${i}/${U(l)}/01`).getTime(),r=new Date(o-1);return{firstDayOfWeek:n,lastDayOfMonth:r.getDate()}}function Et(e){const t=y(e.substr(2)),s=t%20===0,n=Math.floor(t/20);let i=(s?n-1:n)*20+1,l=y(e.substr(0,2));n===0&&t===0&&(l-=1,i=81);const o=l*100+i,r=o+19;return{startFullYear:o,endFullYear:r}}function b(e,t){const s=[];if(Array.isArray(e)){const[n,i]=e;let l=L(n),o=L(i);k(t)&&(l=l?+S(l,t):null,o=o?+S(o,t):null),s.push(l),s.push(o)}return s}function Z({data:e,options:t}){const s=[];return t.mode===C&&e.selected.forEach(n=>{s.push(n?n.value:null)}),s}function J(e,t,s){return!!t&&e<t||!!s&&e>s}function Ye(e,{type:t,mode:s}){const n=[];if(e){Array.isArray(e)||(e=[e]),s===ht&&e.length>1&&(e=e.slice(0,1)),s===C&&e.length>2&&(e=e.slice(0,2));const i=_t[t];let l;e.forEach(o=>{l=L(o),l&&n.push({value:y(S(l,i)),date:l,fullText:S(l,"yyyy/MM/dd")})}),n.sort((o,r)=>o.value-r.value)}return n}function K(e,t,s){return t&&t>e||s&&s<e}function xt(e,t,s,n){const i=[];switch(n){case C:{const[l,o]=e;l&&K(+l.date,t,s)&&i.push(l),o&&K(+o.date,t,s)&&i.push(o);break}default:e.forEach(l=>{K(+l.date,t,s)&&i.push(l)})}return i.length>0}function wt(e){const{options:t}=this;let s=null;const[n,i]=b(t.dateRange);if(n&&+n>+s&&(s=n),i&&+i<+s&&(s=i),e.length)if(xt(e,n,i,t.type)){let l=setTimeout(()=>{this.emit("error",new Error(`The default date[${t.defaultDate}] is not within the range[${t.dateRange}].`)),clearTimeout(l),l=null},0)}else s=e[0].date;return s}function q(e,{data:t,options:s}){return s.mode===C&&t.selected.length===1?e===t.selected[0].value:!1}function $(e){if(typeof e>"u"&&(e="undefined"),e===null&&(e="null"),k(e))return document.createTextNode(e);const t=document.createElement(e.t||"div"),s=e.a;s&&typeof s=="object"&&Object.keys(s).forEach(i=>{t.setAttribute(i,s[i])});const n=e.c;return Array.isArray(n)&&n.length>0&&n.forEach(i=>{t.appendChild($(i))}),t}function fe(e,t=document){if(!e)return null;let s=null;return k(e)?s=t.querySelector(e):typeof e=="object"&&e.nodeType===1&&(s=e),s}function bt(e,t,s){const n="__item",i={};if(t.includes(n))i.el=e,i.className=t;else if(e!==s){let l=e.parentElement;for(;l&&l!==s;){if(l.className.split(" ").includes(n)){i.el=l,i.className=l.className.split(" ");break}l=l.parentElement}}return i.el&&(i.index=y(i.el.getAttribute("data-index"))),i}function I(...e){const t=e[0],s=e.slice(1),n=[];t.className.split(" ").forEach(i=>{s.includes(i)||n.push(i)}),t.className=n.join(" ")}function V(...e){const t=e[0],s=t.className.split(" ");e.slice(1).forEach(n=>{s.includes(n)||s.push(n)}),t.className=s.join(" ")}const At={a:{class:"zx-calendar"}},Tt={a:{class:"zx-calendar-header-wrapper"},c:[{a:{class:"__l"},c:[{t:"button",a:{type:"button",class:se}},{t:"button",a:{type:"button",class:[se,W].join(" ")}}]},{a:{class:ue}},{a:{class:"__r"},c:[{t:"button",a:{type:"button",class:[ne,W].join(" ")}},{t:"button",a:{type:"button",class:ne}}]}]},vt={a:{class:"zx-calendar-week-wrapper"},c:[]},Dt={a:{class:"zx-calendar-body-wrapper"}},Ct={a:{class:"zx-calender-footer-wrapper"},c:[]},Mt={confirm:{t:"button",a:{class:Oe}},clear:{t:"button",a:{class:Fe}},cancel:{t:"button",a:{class:je}}};function $t(e,t){if(t.type!==ie)return null;const s=JSON.parse(JSON.stringify(vt));return e.forEach((n,i)=>{const l=i===0||i===6;s.c.push({a:{class:Ie+(l?" "+dt:"")},c:[n]})}),$(s)}function X(e,t,s,n){const i=e.some(o=>t&&o.value&&o.value<t),l=e.some(o=>s&&o.value&&o.value>s);i?V(n,pe):I(n,pe),l?V(n,ge):I(n,ge)}function Q(e,t,{titleFormatter:s,type:n,itemSuffix:i,showHoliday:l},{header:o,body:r}){const a=t[e]||[];let c=null;if(n===z){const _=a[0],f=a[a.length-1];let w=0;c=s.replace(/(y+)/g,()=>w++===0?_.text:f.text)}else c=S(t.currentDate,s);fe("."+ue,o).innerText=c;let u,d,m;r.innerHTML=a.reduce((_,f,w)=>(u=["__item"],f.disabled&&u.push($e),f.value>0?(m="",f.holiday&&(u.push(ut),m=` title="${f.holiday}"`),f.selected&&u.push(A),f.current&&u.push(ft),f.isRangeFirst&&f.isRangeLast?u.push(Le):(f.isRangeFirst&&u.push(Re),f.isRangeLast&&u.push(Ne)),f.isRangeTemp&&u.push(ke),d=[`<div class="${u.join(" ")}" data-index="${w}"${m}>`],d.push('<div class="__inner">'),d.push(`<p class="__text">${f.text}`),i&&d.push(`<span class="__suffix">${i}</span>`),l&&f.holiday&&d.push(`<span class="__holiday">${f.holiday}</span>`),d.push("</p></div></div>")):d=[`<div class="${u.join(" ")}"><div class="__inner"></div></div>`],_.push(d.join("")),_),[]).join("")}function Ee(e,{body:t},s){const[...n]=t.querySelectorAll("."+A);n.forEach(i=>{I(i,A),s&&I(i,Re,Ne,Le)}),V(e,s?ke:A)}const Be="single",Rt="date",Nt={primary:"#f30",arrow:"#999",holidayDot:"rgba(0, 0, 0, 0.2)",currentItemBg:"#eee",white:"#fff",rangeBg:"#eee"},j={el:null,dateRange:[],lang:"zh",showHoliday:!1,type:Rt,isFullWeek:!1,titleFormatter:rt,itemSuffix:null,defaultDate:[],itemFormatter:null,mode:Be,langPackage:null,footerButtons:["clear","cancel","confirm"],footerButtonAlign:"flex-end",hideFooter:!1,colors:{}};function oe(e={}){const t={...j,...e,colors:{...Nt,...e.colors}};if(e.titleFormatter||(t.type===z?t.titleFormatter=at:t.type===le&&(t.titleFormatter=ct)),!t.el||!fe(t.el))throw new Error(`Initial parameter el[${t.el}] is invalid.`);this.options=t,this._eventList={};const{langPackage:s}=yt(t);this.langPackage=s,this.$els={};const n=new Date,i=S(n,"yyyy/MM/dd",s);let l=[];try{l=Ye(t.defaultDate,t)}catch(a){setTimeout(()=>{this.emit("error",a)},0)}const o=wt.call(this,l)||n,r=S(o,"yyyy/MM/dd");this.data={today:i,currentDate:o,currentDay:r,current:r.split("/"),selected:l,dates:[],months:[],years:[]},this._initDom()}oe.prototype={constructor:oe,formatDate(e,t,s){return s||(s=this.langPackage),S(e,t,s)},toDate(e){const t=L(e);return t||this.emit("error",new Error(`"${e}" is an invalid Date!`)),t},emit(...e){const t=e[0];this._eventList[t]&&this._eventList[t].forEach(s=>{s.apply(this,e.slice(1))})},on(e,t){!k(e)||!Se(t)||(this._eventList[e]||(this._eventList[e]=[]),this._eventList[e].push(t))},off(e){!k(e)||!this._eventList[e]||(this._eventList[e].length=0)},_initDom(){const e=this.options,t=fe(e.el),s=JSON.parse(JSON.stringify(At)),n=[s.a.class,"type-is-"+e.type,"mode-is-"+e.mode];s.a.class=n.join(" "),s.a.style=Object.keys(e.colors).map(a=>`--zx-calendar-color-${a}: ${e.colors[a]}`).join(";");const i=$(s),l=$(Tt);i.appendChild(l);const o=$t(this.langPackage.weeks,e);o&&i.appendChild(o);const r=$(Dt);if(i.appendChild(r),!e.hideFooter&&(e.mode===ye||e.mode===C)){const a=JSON.parse(JSON.stringify(Ct));e.footerButtons.forEach(u=>{a.c.push({...Mt[u],c:[this.langPackage[u+"Button"]]})});const c=$(a);e.footerButtonAlign&&(c.style.justifyContent=e.footerButtonAlign),i.appendChild(c)}t.appendChild(i),this.$els={calendar:i,header:l,week:o,body:r,parent:t},this._updateDom(),this.eventsHandler=this._eventsHandler.bind(this),this.$els.calendar.addEventListener("click",this.eventsHandler)},_eventsHandler(e){e.stopPropagation();const t=e.target,s=t.className.split(" "),n=t.innerText;if(s.includes(se))this.prev(!s.includes(W));else if(s.includes(ne))this.next(!s.includes(W));else if(s.includes(Oe))this.emit("change",[...this.data.selected]);else if(s.includes(je))this.emit("cancel");else if(s.includes(Fe))this.setDate();else if(s.includes(ue))this._onTitleClick({innerText:n,el:t,className:s});else if(s.includes(Ie))this._onWeekClick({innerText:n,el:t,className:s});else{const i=bt(t,s,this.$els.calendar);i.el&&this._onItemClick(i)}},_onTitleClick(e){this.emit("onTitleClick",e)},prev(e){let[t,s]=this.data.current;switch(this.options.type){case ie:if(e){t=y(t)-1;const[n]=b(this.options.dateRange,"yyyy");if(n&&t<=n){t=n;const[i]=b(this.options.dateRange,"MM");i&&(s=i)}}else s=y(s)-1,s===0&&(t=y(t)-1,s=12);this.setCurrentDate([t,s,"01"].join("/"));break;case le:this.setCurrentDate(t-1);break;case z:{const n=this.data.years[0]||{};this.setCurrentDate(n.value-1);break}}},next(e){let[t,s]=this.data.current;switch(this.options.type){case ie:if(e){t=y(t)+1;const[,n]=b(this.options.dateRange,"yyyy");if(n&&t>=n){t=n;const[,i]=b(this.options.dateRange,"MM");i&&(s=i)}}else s=y(s)+1,s===13&&(t=y(t)+1,s=1);this.setCurrentDate([t,s,"01"].join("/"));break;case le:this.setCurrentDate(y(t)+1);break;case z:{const n=this.data.years,i=n[n.length-1]||{};this.setCurrentDate(i.value+1);break}}},_onWeekClick(e){this.emit("onWeekClick",e)},_onItemClick({el:e,className:t,index:s}){if(t.includes($e))return;const i=(this.data[this.options.type+"s"]||[])[s]||{};if(this.options.mode===C){const l=[...this.data.selected],o=l.length;o===0||o>=2&&l.every(r=>!!r)?(this.data.selected=[i],Ee(e,this.$els,!0)):o===1&&(l[0].value<i.value?this.data.selected.push(i):this.data.selected.unshift(i),this._updateDom())}else if(this.options.mode===ye)if(t.includes(A)){I(e,A);const l=this.data.selected.findIndex(o=>o.value===i.value);this.data.selected.splice(l,1)}else V(e,A),i.selected=!0,this.data.selected.push(i);else t.includes(A)||(Ee(e,this.$els),i.selected=!0,this.data.selected=[{...i}],this.emit("change",[...this.data.selected]))},setDateRange(e,t){this.options.dateRange=[e,t],this._updateDom()},setDate(e){try{if(this.data.selected=Ye(e,this.options),this.data.selected.length===0){this._updateDom();return}const t=this.data.selected[0];this.setCurrentDate(t.fullText)}catch(t){this.emit("error",t)}},getDate(){return this.data.selected.slice(0)},setCurrentDate(e){const t=this.toDate(String(e));if(!t)return;const s=S(t,"yyyy/MM/dd");this.data.currentDate=t,this.data.currentDay=s,this.data.current=s.split("/"),this._updateDom()},_updateDom(){switch(this.options.type){case"date":this.createDays(),Q("dates",this.data,this.options,this.$els);break;case"month":this.createMonths(),Q("months",this.data,this.options,this.$els);break;case"year":this.createYears(),Q("years",this.data,this.options,this.$els);break}},createYears(){const[e,t]=b(this.options.dateRange,"yyyy"),[s,n]=Z(this),i=[],l=this.data.today.substr(0,4),{startFullYear:o,endFullYear:r}=Et(this.data.current[0]);let a;for(let c=o;c<=r;c++)a=c.toString(),i.push({text:a,fullText:a,value:c,disabled:J(c,e,t),isRangeFirst:c===s&&n,isRangeLast:c===n&&s,isRangeTemp:q(c,this),selected:this._isSelected(c),current:l===a,date:this.toDate(a)});this.data.years=i,X(i,e,t,this.$els.calendar)},createMonths(){const[e,t]=b(this.options.dateRange,"yyyyMM"),[s,n]=Z(this),i=[],l=this.data.today.substr(0,7),o=this.data.current[0]+"/",r=y(this.data.current[0])*100;let a,c,u;for(let d=1;d<=12;d++)a=U(d),c=o+a,u=r+d,i.push({text:a,fullText:c,value:u,disabled:J(u,e,t),isRangeFirst:u===s&&n,isRangeLast:u===n&&s,isRangeTemp:q(u,this),selected:this._isSelected(u),current:c.startsWith(l),date:this.toDate(c)});this.data.months=i,X(i,e,t,this.$els.calendar)},createDays(){const[e,t]=b(this.options.dateRange,"yyyyMMdd"),[s,n]=Z(this),{firstDayOfWeek:i,lastDayOfMonth:l}=St(this.data),o=new Array(i).fill(0);for(let f=1;f<=l;f++)o.push(f);if(o.length%7!==0)for(let f=0;f<o.length%7;f++)o.push(0);let r=0,a,c,u;const d=this.data.current.slice(0,2).join("/")+"/",{itemFormatter:m}=this.options,_=o.map(f=>{r>6&&(r=0),a=f>0?U(f):"";const w=d+a;return u=f>0?+w.replace(/\//g,""):0,c={text:a,fullText:f>0?w:"",value:u,week:r++,disabled:!f||J(u,e,t),holiday:!1,isRangeFirst:u===s&&n,isRangeLast:u===n&&s,isRangeTemp:q(u,this),selected:this._isSelected(u),current:this.data.today===w,date:f>0?this.toDate(w):null},Se(m)?m(c):c});this.data.dates=_,X(_,e,t,this.$els.calendar)},destroy(){this.$els.calendar.removeEventListener("click",this.eventsHandler),this.$els.parent.removeChild(this.$els.calendar)},_isSelected(e){const t=this.data.selected;switch(this.options.mode){case C:{const[s,n]=t;if(e&&s&&n)return e>=s.value&&e<=n.value;break}default:return t.some(s=>s.value===e)}return!1}};function Lt(e,t,s,n){const i=e.map(o=>s?S(o.fullText,s,n):o.fullText);return!t||t===Be?i[0]:i}function kt(e){const t={...e.option};let s;return Object.keys(j).forEach(n=>{s=e[n],typeof s<"u"&&(!Array.isArray(j[n])||j[n].includes(s))&&(t[n]=s)}),e.value&&(t.defaultDate=e.value),t}const It=F('<div class="zx-calendar-wrapper"><div></div></div>');function He(e){const{change:t,instance:s}=e,[n,i]=ae(null);let l,o;return be(()=>{e.value!==o&&n()&&n().setDate(e.value)}),Ae(()=>{const r=kt(e);r.el=l;const a=new oe(r);i(a),s==null||s(a),a.on("change",c=>{o=Lt(c,r.mode,r.format,r.langPackage),t==null||t(o,c)})}),(()=>{const r=It.cloneNode(!0),a=r.firstChild;x(r,()=>e.header,a);const c=l;return typeof c=="function"?Qe(c,a):l=a,x(r,()=>e.footer,null),r})()}const Ot=F(`<div><p>value </p><div class="example-demo-wrapper"><pre><code class="jsx">
import { createSignal } from 'solid-js';
import { ZxSolidCalendar } from 'zx-calendar/solid';
import { formatDate } from 'zx-sml';

export default function Normal() {
  const [date, setDate] = createSignal(
    formatDate(Date.now() * (Math.random() + 0.5), 'yyyy/MM/dd')
  )
  return (
    &lt;div&gt;
      &lt;p&gt;value {date()}&lt;/p&gt;
      &lt;div class="example-demo-wrapper">
        &lt;ZxSolidCalendar
          footer={&lt;div&gt;insert a footer&lt;/div&gt;}
          value={date()}
          change={(newDate) => {
            setDate(newDate)
          }}
        />
      &lt;/div&gt;
    &lt;/div&gt;
  )
}
</code></pre></div></div>`),Ft=F("<div>insert a footer</div>");function jt(){const[e,t]=ae(st(Date.now()*(Math.random()+.5),"yyyy/MM/dd"));return(()=>{const s=Ot.cloneNode(!0),n=s.firstChild;n.firstChild;const i=n.nextSibling,l=i.firstChild;return x(n,e,null),x(i,N(He,{get footer(){return Ft.cloneNode(!0)},get value(){return e()},change:o=>{t(o)}}),l),s})()}const Yt=F(`<div><h3>type year</h3><p>value is </p><section class="example-demo-wrapper"><pre><code class="jsx">
import { createSignal } from 'solid-js'
import { ZxSolidCalendar } from 'zx-calendar/solid'

export default function TypeYear() {
  const [year, setYear] = createSignal(new Date().getFullYear().toString())
  return (
    &lt;div&gt;
      &lt;h3&gt;type year&lt;/h3&gt;
      &lt;p&gt;value is {year()}&lt;/p&gt;
      &lt;section class="example-demo-wrapper">
        &lt;ZxSolidCalendar
          type="year"
          value={year()}
          change={(newYear) => {
            setYear(newYear)
          }}
        />
      &lt;/section&gt;
    &lt;/div&gt;
  )
}
</code></pre></section></div>`);function Bt(){const[e,t]=ae(new Date().getFullYear().toString());return(()=>{const s=Yt.cloneNode(!0),n=s.firstChild,i=n.nextSibling;i.firstChild;const l=i.nextSibling,o=l.firstChild;return x(i,e,null),x(l,N(He,{type:"year",get value(){return e()},change:r=>{t(r)}}),o),s})()}const Ht=F(`<div><demo-header></demo-header><h2>Install</h2><pre><code class="bash">npm i zx-calendar</code></pre><h2>Usage</h2><pre><code class="javascript">import { ZxSolidCalendar } from 'zx-calendar/solid'</code></pre><h2>Example</h2></div>`);function Pt(){return Ae(()=>{it(document.querySelectorAll("pre code")).forEach(e=>{window.hljs.highlightElement(e)})}),(()=>{const e=R(()=>document.importNode(Ht,!0)),t=e.firstChild;return t.nextSibling.nextSibling.nextSibling.nextSibling.nextSibling,t._$owner=Ue(),x(e,N(jt,{}),null),x(e,N(Bt,{}),null),e})()}Xe(()=>N(Pt,{}),document.getElementById("app"));
